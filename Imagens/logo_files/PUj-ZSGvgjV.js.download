;/*FB_PKG_DELIM*/

__d("IGDSCircleAddPanoFilledIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12.001.504a11.5 11.5 0 1 0 11.5 11.5 11.513 11.513 0 0 0-11.5-11.5Zm5 12.5h-4v4a1 1 0 0 1-2 0v-4h-4a1 1 0 1 1 0-2h4v-4a1 1 0 1 1 2 0v4h4a1 1 0 0 1 0 2Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("IGDSStarOutline96Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 96 96",children:[i.jsx("circle",{cx:"48",cy:"48",fill:"none",r:"47",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),i.jsx("path",{d:"m48.932 25.393 5.596 14.368 15.895 1.023a1 1 0 0 1 .56 1.778L58.564 52.5l4.188 15.47a1 1 0 0 1-1.523 1.092L48 60.174l-13.228 8.888a1 1 0 0 1-1.523-1.092l4.188-15.47-12.421-9.938a1 1 0 0 1 .56-1.778l15.896-1.023 5.596-14.368a1 1 0 0 1 1.864 0Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisFeedTimelineRootV2Query",["PolarisFeedTimelineRootV2Query.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("PolarisFeedTimelineRootV2Query.graphql");c=a;g["default"]=c}),98);
__d("PolarisFeed.next.react",["CometRelay","PolarisFeedActionConstants","PolarisFeedActionLoadFeedPageExtras","PolarisFeedLastHeadLoadContext.react","PolarisFeedQueryConstants","PolarisFeedSeenStateManagerSingleton","PolarisFeedTimelineFragmentCachedQuery","PolarisFeedTimelineRootV2Query","PolarisLogger","PolarisMediaPrefetchActions","PolarisPanavisionQEHelpers","PolarisReactRedux.react","deferredLoadComponent","react","requireDeferredForDisplay","useCometRouterState","usePolarisFeedVariantFromRoute","usePolarisSelector","usePrevious","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisFeedPage.next.react").__setRef("PolarisFeed.next.react"));function a(a){a=a.queryReference;var b=d("PolarisReactRedux.react").useDispatch();a=d("CometRelay").usePreloadedQuery(c("PolarisFeedTimelineRootV2Query"),a);a=d("CometRelay").usePaginationFragment(c("PolarisFeedTimelineFragmentCachedQuery"),a);var e=a.data,f=a.hasNext,g=a.isLoadingNext,h=a.loadNext,l=a.refetch,m=c("useRoutePassthroughProps")(),n=c("useCometRouterState")(),o=c("usePrevious")(n==null?void 0:n.routeKey),p=c("usePolarisFeedVariantFromRoute")(),q=d("PolarisFeedLastHeadLoadContext.react").useSetLastHeadLoadMs();j(function(){if((n==null?void 0:n.routeKey)!==o&&o!=null&&(m==null?void 0:m.refreshFeed)===!0&&d("PolarisPanavisionQEHelpers").hasRefetchRelayFeed()===!0){window.scrollTo(0,0);d("PolarisLogger").logAction("refreshFeedDataAttempt");var a=d("PolarisFeedQueryConstants").FEED_TIMELINE_REQUEST_BODY,e=c("PolarisFeedSeenStateManagerSingleton").get();if(e.count()>0){var f=e.getViewInfo();e.clear();a=babelHelpers["extends"]({},a,{feed_view_info:f})}b(d("PolarisFeedActionLoadFeedPageExtras").loadFeedPageExtras());q(Date.now());l({data:a,variant:String(p)})}},[b,m,o,l,n==null?void 0:n.routeKey,q,p]);var r=c("usePolarisSelector")(function(a){return a.mediaPrefetches.isEnabledForView[d("PolarisFeedActionConstants").FEED_VIEW]});j(function(){r!==!0&&b(d("PolarisMediaPrefetchActions").startMediaPrefetch(d("PolarisFeedActionConstants").FEED_VIEW))},[b,r]);return i.jsx(k,{data:e,hasNext:f,isLoadingNext:g,loadNext:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisFeedShouldShowSidebar",["PolarisFeedPageConstants","useMatchViewport"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useMatchViewport")("min","width",d("PolarisFeedPageConstants").FEED_SIDEBAR_THRESHOLD_MIN);return a}g["default"]=a}),98);
__d("usePolarisFeedVariantDsaHeader",["PolarisDsaQEHelpers","PolarisFeedContext.react","PolarisNavigationLayoutContext","react","usePolarisFeedVariantFromRoute"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext,j=new Set(["home","following"]);function a(){var a=i(c("PolarisNavigationLayoutContext"));a=a.navigationPosition;var b=c("usePolarisFeedVariantFromRoute")(),e=i(d("PolarisFeedContext.react").PolarisFeedContext);e=e.showEmptyFeed;if(e)return!1;return a==="bottom"?!1:j.has(b)&&d("PolarisDsaQEHelpers").isDsaFeed()}g["default"]=a}),98);
__d("usePolarisGetFeedMediaWidthBasedOnReelHeight",["PolarisClipsTabHelpers","PolarisFeedPageConstants","PolarisNavigationLayoutContext","PolarisPanavisionQEHelpers","react","usePolarisIsFeedMobileLayout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext,j=9/16;function a(a){a===void 0&&(a=!1);var b=d("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout(),e=i(c("PolarisNavigationLayoutContext"));e=e.navigationPosition;if(b||d("PolarisPanavisionQEHelpers").hasNoLetterboxing()===!1)return"min("+d("PolarisFeedPageConstants").FAMILIAR_FEED_WIDTH+"px, 100vw)";else{b=d("PolarisClipsTabHelpers").getReelMediaContainerHeight(a,e==="bottom");a=b*j;return!d("PolarisPanavisionQEHelpers").hasResponsiveFeedWidth()?"min("+a+"px, "+d("PolarisFeedPageConstants").FAMILIAR_FEED_WIDTH+"px, 100vw)":"min("+a+"px, 100vw)"}}g["default"]=a}),98);
__d("usePolarisGetFeedContainerWidth",["PolarisDsaQEHelpers","PolarisFeedPageConstants","PolarisPanavisionQEHelpers","PolarisUA","usePolarisGetFeedMediaWidthBasedOnReelHeight"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("usePolarisGetFeedMediaWidthBasedOnReelHeight")(d("PolarisDsaQEHelpers").isDsaFeed());if(d("PolarisUA").isDesktop())return d("PolarisPanavisionQEHelpers").hasNoLetterboxing()?"max("+d("PolarisFeedPageConstants").FEED_WIDTH_WIDE_STORY+"px, "+a+")":d("PolarisFeedPageConstants").FEED_WIDTH_WIDE_STORY+"px";else return a+"px"}g["default"]=a}),98);
__d("PolarisFeedContainerLayout.react",["PolarisDsaQEHelpers","PolarisFeedContext.react","PolarisFeedPageConstants","PolarisNavigationLayoutContext","PolarisUA","react","stylex","usePolarisFeedShouldShowSidebar","usePolarisFeedVariantDsaHeader","usePolarisGetFeedContainerWidth","usePolarisGetFeedMediaWidthBasedOnReelHeight","usePolarisIsFeedMobileLayout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useState,m={familiarFeedRightRail:{paddingStart:"x3hkoc4",paddingLeft:null,paddingRight:null,width:"x6bx242",$$css:!0},rightComponent:{height:"x1dr59a3",top:"x13vifvy",$$css:!0},root:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},rootFamiliar:{paddingTop:"x1xy6bms",$$css:!0},rootFamiliarTablet:{paddingTop:"xyinxu5",$$css:!0}};function a(a){var b=a.mainComponent;a=a.sidebarComponent;var e=c("usePolarisGetFeedContainerWidth")(),f=c("usePolarisGetFeedMediaWidthBasedOnReelHeight")(d("PolarisDsaQEHelpers").isDsaFeed()),g=l(!1),i=g[0];g=g[1];var n=c("usePolarisFeedShouldShowSidebar")()&&!i,o=k(c("PolarisNavigationLayoutContext"));o=o.navigationPosition;var p=d("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout();o=o==="bottom"&&!p;p=c("usePolarisFeedVariantDsaHeader")();return j.jsxs("div",{className:(h||(h=c("stylex")))(m.root,o&&m.rootFamiliarTablet,!o&&d("PolarisUA").isDesktop()&&p&&m.rootFamiliar),children:[j.jsx(d("PolarisFeedContext.react").PolarisFeedContextProvider,{feedContainerWidth:e,feedMediaWidth:f,setShowEmptyFeed:g,showEmptyFeed:i,children:j.jsx("div",{style:{maxWidth:d("PolarisUA").isDesktop()?e:"min("+d("PolarisFeedPageConstants").FAMILIAR_FEED_WIDTH+", 100%)",width:"100%"},children:b})}),n&&j.jsx("div",{className:"x1dr59a3 x13vifvy x3hkoc4 x6bx242",children:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFeedEmptyGlimmer.react",["IGDSListItemPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a;return i.jsxs(i.Fragment,{children:[i.jsx(a=c("IGDSListItemPlaceholder.react"),{fullWidth:!0,index:0,size:"medium"}),i.jsx(a,{fullWidth:!0,index:1,size:"medium"}),i.jsx(a,{fullWidth:!0,index:2,size:"medium"}),i.jsx(a,{fullWidth:!0,index:3,size:"medium"}),i.jsx(a,{fullWidth:!0,index:4,size:"medium"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFeedGlimmer.next.react",["PolarisPostGlimmer.react","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){a=a.startingIndex;return i.jsx("div",{className:"x78zum5 x1q0g3np x1egiwwb x1hq5gj4 xh8yej3","data-testid":void 0,children:i.jsx(c("PolarisPostGlimmer.react"),{index:a})})}j.displayName=j.name+" [from "+f.id+"]";function a(){return i.jsxs(i.Fragment,{children:[i.jsx(j,{startingIndex:0}),d("PolarisUA").isDesktop()&&i.jsx(j,{startingIndex:1})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstagramFeedPickerTapFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2566");b=d("FalcoLoggerInternal").create("instagram_feed_picker_tap",a);e=b;g["default"]=e}),98);
__d("PolarisFeedVariantsIconButton.react",["IGDSChevronDownPanoOutline24Icon.react","IGDSIconButton.react","PolarisGenericStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=12;function a(a){a=a.onClick;return i.jsx(c("IGDSIconButton.react"),{onClick:a,children:i.jsx(c("IGDSChevronDownPanoOutline24Icon.react"),{alt:d("PolarisGenericStrings").DOWN_CHEVRON_ALT,size:j})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFeedPageMobileHeaderTitleWithVariants.react",["CometPressable.react","IGDSBox.react","IGDSLazyPopoverTrigger.react","InstagramFeedPickerTapFalcoEvent","JSResourceForInteraction","PolarisDsaQEHelpers","PolarisEventListener","PolarisFeedVariantsIconButton.react","PolarisInstagramMobileLogoTitle.react","cr:7163","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.useRef,l=e.useState,m=c("JSResourceForInteraction")("PolarisFeedVariantsMenu.react").__setRef("PolarisFeedPageMobileHeaderTitleWithVariants.react");function a(a){a=a.align;var e=l(!1),f=e[0],g=e[1],h=d("PolarisDsaQEHelpers").isDsaFeed(),n=k(null);j(function(){var a=function(){n.current!=null&&n.current.hide(),document.scrollingElement&&document.scrollingElement.scrollTop>0&&g(!0)},b=c("PolarisEventListener").add(window,"scroll",a,{capture:!0,passive:!0});return function(){return b.remove()}},[]);var o=function(){h&&c("InstagramFeedPickerTapFalcoEvent").log(function(){return{module:"feed_timeline"}})};return i.jsx(c("IGDSBox.react"),{alignItems:a,direction:"row",children:i.jsx(c("IGDSBox.react"),{direction:"column",children:i.jsx(c("IGDSLazyPopoverTrigger.react"),{align:"start",imperativeRef:n,popoverProps:{onClose:c("emptyFunction")},popoverResource:m,popoverType:"menu",preloadTrigger:"button",children:function(a,d){return i.jsx(c("CometPressable.react"),{onPress:function(){g(!0),d(),o()},ref:a,children:i.jsxs(c("IGDSBox.react"),{alignItems:h?"baseline":"start",direction:"row",position:"relative",children:[h&&b("cr:7163")?i.jsx(b("cr:7163"),{}):i.jsx(c("PolarisInstagramMobileLogoTitle.react"),{}),(f||h)&&i.jsx("div",{className:"xxkxylk x127lhb5",children:i.jsx(c("IGDSBox.react"),{position:"relative",children:i.jsx(c("PolarisFeedVariantsIconButton.react"),{onClick:d})})})]})})}})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFeedVariantsHeader.react",["IGDSBox.react","PolarisDsaQEHelpers","PolarisFastLink.react","PolarisFeedHeader.react","PolarisFeedVariantsStrings","PolarisLogger","PolarisNavigationHelpers","PolarisPanavisionQEHelpers","XPolarisFeedControllerRouteBuilder","react","useMatchViewport"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){switch(a){case"favorites":return d("PolarisFeedVariantsStrings").FAVORITES_TEXT;case"following":return d("PolarisFeedVariantsStrings").FOLLOWING_TEXT;case"past_posts":return d("PolarisFeedVariantsStrings").PAST_POSTS_TEXT;case"home":return null}}function a(a){var b=a.revamped,e=a.variant;a=c("useMatchViewport")("min","width",d("PolarisNavigationHelpers").BOTTOM_STYLING_MAX_WIDTH);a=a?2:0;var f=j(e);if(f==null)return null;var g=function(){d("PolarisDsaQEHelpers").isDsaFeed()&&e==="following"&&d("PolarisLogger").logAction("dsaTabSwitch",{implementation:d("PolarisPanavisionQEHelpers").hasPolarisFeedRevamp()?"relay":"non-relay",intent_source:"default",source:"feedPage"})};return i.jsx(c("IGDSBox.react"),{alignItems:"start",marginTop:a,position:"relative",children:i.jsx(c("PolarisFastLink.react"),{href:c("XPolarisFeedControllerRouteBuilder").buildURL({}),onClick:g,children:i.jsx(c("PolarisFeedHeader.react"),{hasBackButton:!0,revamped:b,text:f})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisMobileCreationNavItemTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Top","Bottom"]);f.PopoverPosition=a}),66);
__d("PolarisAPICreationFinalizeStory",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b={caption:b,upload_id:a};return d("PolarisInstapi").apiPost("/api/v1/web/create/configure_to_story/",{body:b}).then(function(a){return a.data})}g.creationFinalizeStory=a}),98);
__d("PolarisAPIGetStickers",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.location;a=a.user;b={location:b,user:a};return d("PolarisInstapi").apiPost("/api/v1/web/creatives/async_assets/",{body:b}).then(function(a){return a.data})}g.getStickers=a}),98);
__d("PolarisAPIRuploadVideo",["PolarisInstajax","PolarisInstajaxRequestHeader","PolarisMediaConstants","PolarisUploadHelpers","Promise","identityFunction","polarisVideoMergeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c,e){return function(f,g,h,i){return a(f,g,h,d("PolarisUploadHelpers").createUploadProgressBefore(b,c,e)).then(function(a){if(b&&g instanceof Blob&&a.statusCode<300){var d=c({sent:g.size,successfullyAcknowledged:g.size,total:g.size});b(d)}return a})}}function a(a){return d("PolarisInstajax").get_UNTYPED(j(a.entityName),null,{omitHeaders:[c("PolarisInstajaxRequestHeader").WWWClaim,c("PolarisInstajaxRequestHeader").DeviceId],withCredentials:!0}).then(function(a){a=a!=null?JSON.parse(String(a)).offset:0;return(h||(h=b("Promise"))).resolve(a)})}function j(a){return"https://i.instagram.com/rupload_igvideo/"+a}function e(a,b,e){var f=a.entityName,g=a.file,h=a.fileByteOffset;h=h===void 0?0:h;var k=a.isIgtvVideo;k=k===void 0?!1:k;var l=a.isSidecar;l=l===void 0?!1:l;var m=a.isUnifiedVideo;m=m===void 0?!1:m;var n=a.mediaPublishMode,o=a.uploadId,p=a.uploadMediaDurationMs,q=a.uploadMediaHeight,r=a.uploadMediaWidth,s=a.videoEditParams,t=a.videoTransform;t=t===void 0?null:t;a=a.chunkSize;a=a===void 0?g.size:a;var u={is_clips_video:void 0,is_igtv_video:void 0,is_unified_video:void 0};k?d("polarisVideoMergeUtils").eligibleForVideoMerge()?u.is_clips_video="1":(u.is_igtv_video=!0,u.is_unified_video=m?"1":"0"):u.is_unified_video=m?"1":"0";return i(d("PolarisInstajax").post_UNTYPED,b,c("identityFunction"),e)(j(f),g.slice(h,h+a,g.type),{headers:{Offset:String(h),"X-Entity-Length":String(g.size),"X-Entity-Name":f,"X-Instagram-Rupload-Params":JSON.stringify(babelHelpers["extends"]({"client-passthrough":"1"},u,{is_sidecar:l?"1":"0",media_type:d("PolarisMediaConstants").MediaTypes.VIDEO,for_album:n===d("PolarisMediaConstants").MediaPublishMode.REEL,video_format:g.type,upload_id:o,upload_media_duration_ms:p,upload_media_height:q,upload_media_width:r,video_transform:t,video_edit_params:s}))},omitHeaders:[c("PolarisInstajaxRequestHeader").WWWClaim,c("PolarisInstajaxRequestHeader").DeviceId],timeout:Number.POSITIVE_INFINITY,withCredentials:!0})}f=f(e);function f(a){return function(){return a.apply(void 0,arguments)}}g.ruploadVideoOffset=a;g.ruploadVideo=f}),98);
__d("PolarisStoryCreationLogger",["PolarisLogger","PolarisPigeonLogger"],(function(a,b,c,d,e,f,g){"use strict";b={EXIT:2,POST:1,UNKNOWN:-1};var h={camera_position:null,capture_type:"normal",color_toggle_count:0,duration:0,event_name:"reel_creation_waterfall",has_brush:!1,has_flash:!1,has_sticker:!1,has_text:!1,library_media_available:1,library_upload_count:1,media_type:"1",save_media_count:0,source:"library",sticker_ids:[],sticker_toggle_count:0,text_edit_count:0,text_edit_duration:0,tool_toggle_count:0};function a(a){switch(a.step){case"enter":case"image_process_attempt":case"image_process_success":case"image_process_failure":d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent("instagram_web_story_creation",d("PolarisLogger").getExtra(babelHelpers["extends"]({},a,{event_name:"reel_creation_waterfall"}))));return;case"compose_stage_attempt":case"compose_finalize_attempt":case"compose_failure":case"compose":case"exit_attempt":case"exit_cancel":case"exit":d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent("instagram_web_story_creation",d("PolarisLogger").getExtra(babelHelpers["extends"]({},h,a))));return}}g.STORY_CREATION_EXIT_POINT=b;g.logStoryCreationEvent=a}),98);
__d("PolarisStoryCreationStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__ce1npPONC8K__JHASH__");b=h._("__JHASH__dAqpyU5Zlum__JHASH__");c=h._("__JHASH__FbPa-s5KRVe__JHASH__");d=h._("__JHASH__ru5mVK--9Qb__JHASH__");e=h._("__JHASH__jQ3_kU4Huci__JHASH__");f=h._("__JHASH__G3JzJKxIL3C__JHASH__");var i=h._("__JHASH___TpphfaEnhG__JHASH__"),j=h._("__JHASH__2pcM2elsVJX__JHASH__"),k=h._("__JHASH__3llJvAlc6FW__JHASH__"),l=h._("__JHASH__X5kqZlREeV___JHASH__"),m=h._("__JHASH__tQA9xlJ2gKk__JHASH__"),n=h._("__JHASH__ZpsD2HWsTlU__JHASH__"),o=h._("__JHASH__DglGTKWoFlA__JHASH__"),p=h._("__JHASH__Lq6JJZobPue__JHASH__");h=h._("__JHASH__nmvtY5BifLj__JHASH__");g.EXIT_STORY_CREATION_CONFIRM_TITLE=a;g.EXIT_STORY_CREATION_CONFIRM_TEXT=b;g.EXIT_STORY_VIDEO_CREATION_CONFIRM_TITLE=c;g.EXIT_STORY_VIDEO_CREATION_CONFIRM_TEXT=d;g.EXIT_STORY_CREATION_DISCARD_TEXT=e;g.EXIT_STORY_CREATION_KEEP_TEXT=f;g.STORY_LANDSCAPE_WARNING_TEXT=i;g.TAP_FOR_MORE=j;g.CANNOT_LOAD_STICKERS=k;g.CHECK_CONNECTION=l;g.RETRY=m;g.ADD_TO_STORY_TEXT=n;g.PHOTO_ADDED_TEXT=o;g.VIDEO_ADDED_TEXT=p;g.UPLOAD_FAILED_TEXT=h}),98);
__d("polarisGetVideoCoverPhoto",["PolarisMediaConstants","Promise","nullthrows","polarisGetBlobFromCanvas"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){var c=b;b=a/b;b<d("PolarisMediaConstants").VIDEO_ASPECT_RATIO_MIN&&(c=a/d("PolarisMediaConstants").VIDEO_ASPECT_RATIO_MIN);return{canvasHeight:c,canvasWidth:a}}function j(a,b){var c=null,e=0;a-b!==0&&(e=(a-b)/2,c=d("PolarisMediaConstants").VIDEOTRANSFORM.center_crop);return{videoTransform:c,yOffset:e}}function k(a,b){a=i(a,b);var c=a.canvasHeight;a=a.canvasWidth;b=j(b,c);var d=b.videoTransform;b=b.yOffset;return{canvasHeight:c,canvasWidth:a,videoTransform:d,yOffset:b}}function a(a,d){d===void 0&&(d=!1);return new(h||(h=b("Promise")))(function(b){var e=a.videoHeight,f=a.videoWidth,g=document.createElement("canvas"),h=f,i=e,j=null,l=0;if(d){f=k(f,e);i=f.canvasHeight;h=f.canvasWidth;j=f.videoTransform;l=f.yOffset}g.setAttribute("width",h+"px");g.setAttribute("height",i+"px");var m=c("nullthrows")(g.getContext("2d"));a.autoplay=!0;a.muted=!0;a.currentTime=1;a.oncanplay=function(){a.play().then(function(){window.setTimeout(function(){m.drawImage(a,0,l,h,i,0,0,h,i);return c("polarisGetBlobFromCanvas")(g).then(function(a){return b({dataURL:window.URL.createObjectURL(a),file:a,uploadMediaHeight:i,uploadMediaWidth:h,videoTransform:j})})},1e3)})}})}g.getCroppedCanvasDimensions=i;g.getVideoTransformMetaData=j;g.getCroppedCanvasMetaData=k;g.getVideoCoverPhoto=a}),98);
__d("polarisReadVideoFile",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){a===void 0&&(a="null");a=a.split("/");return a[0]==="video"}function c(a){a=a.split("/");return a[0]==="video"&&a[1]==="mp4"}function d(a){return new(g||(g=b("Promise")))(function(b,c){var d=new FileReader();d.onload=function(){var c=document.createElement("video");c.src=window.URL.createObjectURL(a);c.onloadedmetadata=function(){return b(c)}};d.onerror=function(){c(d.error)};d.readAsArrayBuffer(a)})}f.isVideo=a;f.isMP4Video=c;f.readVideoFile=d}),66);
__d("PolarisStoryCreationActions",["fbt","PolarisAPICreationFinalizeStory","PolarisAPIFbUploaderPhoto","PolarisAPIGetStickers","PolarisAPIRuploadPhoto","PolarisAPIRuploadVideo","PolarisCreationActionUpdateCreationDialogStatus","PolarisCreationActionUpdateCreationError","PolarisCreationCameraLogger","PolarisCreationStrings","PolarisGenericStrings","PolarisMediaConstants","PolarisMonitorErrors","PolarisNavigationActions","PolarisStoryActions","PolarisStoryCreationLogger","PolarisStoryCreationStrings","PolarisStoryCreationUtils","PolarisToastActions","Promise","browserHistory","nullthrows","polarisGetVideoCoverPhoto","polarisReadImageFile","polarisReadVideoFile","polarisUnexpected","polarisUserSelectors","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j="error";function k(a){for(var b=0;b<a.length;b++)if(typeof a[b].id==="number")return b;return-1}function a(a,b){return{canvasHeight:b,canvasWidth:a,type:"STORY_CREATION_SET_CANVAS_DIMENSIONS"}}function e(a){return function(e){return new(i||(i=b("Promise")))(function(b,f){var g=window.innerHeight,h=window.innerWidth;if(g<h){e(d("PolarisToastActions").showToast({text:d("PolarisStoryCreationStrings").STORY_LANDSCAPE_WARNING_TEXT}));return f({})}g=c("uuidv4")();e({entryPoint:a,sessionId:g,startTime:Date.now(),type:"STORY_CREATION_SESSION_STARTED"});d("PolarisStoryCreationLogger").logStoryCreationEvent({entry_point:a,step:"enter",waterfall_id:g});d("PolarisCreationCameraLogger").logStoryCreationStartCameraSession({sessionId:g});return b({})})}}function l(a,b){b=b.storyCreation;var c=b.logData,e=c.start_time;c=babelHelpers.objectWithoutPropertiesLoose(c,["start_time"]);e=(Date.now()-e)/1e3;var f=b.canvasStickers,g=!1,h=[];for(var f=f,i=Array.isArray(f),j=0,f=i?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=f.length)break;k=f[j++]}else{j=f.next();if(j.done)break;k=j.value}k=k;k.type===d("PolarisStoryCreationUtils").TEXT_TYPE?g=!0:h.push(k.variants[0].id)}return babelHelpers["extends"]({},c,{exit_point:d("PolarisStoryCreationLogger").STORY_CREATION_EXIT_POINT.POST,has_brush:b.activeDrawing.linesArray.length>0,has_sticker:h.length>0,has_text:g,step:a,sticker_ids:h,waterfall_duration:e,waterfall_id:(k=b.sessionId)!=null?k:""})}function f(a){return function(b){var c=a.type;d("polarisReadImageFile").isImage(c)?b(m(a)):(b(d("PolarisCreationActionUpdateCreationError").updateCreationError(new Error(d("PolarisCreationStrings").NOT_SUPPORTED_MEDIA_TEXT))),b(d("PolarisCreationActionUpdateCreationDialogStatus").updateCreationDialogStatus("error")))}}function m(a){return function(b,e){var f=e(),g=f.storyCreation.sessionId;d("PolarisStoryCreationLogger").logStoryCreationEvent(l("image_process_attempt",f));g!=null&&d("PolarisCreationCameraLogger").logStoryCreationFeedGallerySelectMedia({mediaType:d("PolarisCreationCameraLogger").InstagramCameraMediaTypes.PHOTO,sessionId:g});return d("polarisReadImageFile").readImageFile(a).then(function(c){b({flash:c.flash,height:c.height,location:c.location,orientation:c.orientation,sourceDataURL:c.dataURL,sourceImage:a,type:"STORY_CREATION_IMAGE_PROCESSED",width:c.width}),d("PolarisStoryCreationLogger").logStoryCreationEvent(l("image_process_success",e())),d("browserHistory").browserHistory.push("/create/story/"),g!=null&&d("PolarisCreationCameraLogger").logStoryCreationCameraEndGallerySession({sessionId:g})},function(a){d("PolarisStoryCreationLogger").logStoryCreationEvent(l("image_process_failure",f)),b(d("PolarisToastActions").showToast({persistOnNavigate:!0,text:h._("__JHASH__OFAPYa_3j4F__JHASH__")})),a instanceof Error?(a.name="[StoryCreation] "+a.name,d("PolarisMonitorErrors").logError(a)):c("polarisUnexpected")("[StoryCreation] error in processing image")})}}function n(a){return function(b,e){var f=Date.now().toString(),g="story_"+f,h=e().storyCreation.sessionId;h!=null&&d("PolarisCreationCameraLogger").logStoryCreationFeedGallerySelectMedia({mediaType:d("PolarisCreationCameraLogger").InstagramCameraMediaTypes.VIDEO,sessionId:h});return d("polarisReadVideoFile").readVideoFile(a).then(function(c){b({dataURL:c.src,entityName:g,file:a,mediaPublishMode:d("PolarisMediaConstants").MediaPublishMode.REEL,type:"STORY_CREATION_VIDEO_PROCESSED",uploadId:f,uploadMediaDurationMs:Math.floor(c.duration*1e3),uploadMediaHeight:c.videoHeight,uploadMediaWidth:c.videoWidth,videoTransform:null});return d("polarisGetVideoCoverPhoto").getVideoCoverPhoto(c)}).then(function(a){b({dataURL:a.dataURL,entityName:g,file:a.file,type:"STORY_CREATION_VIDEO_COVER_PHOTO_UPDATED",uploadId:f,uploadMediaHeight:a.uploadMediaHeight,uploadMediaWidth:a.uploadMediaWidth}),d("browserHistory").browserHistory.push("/create/story/"),h!=null&&d("PolarisCreationCameraLogger").logStoryCreationCameraEndGallerySession({sessionId:h})})["catch"](function(a){a instanceof Error?(a.name="[StoryCreation] "+a.name,d("PolarisMonitorErrors").logError(a)):c("polarisUnexpected")("[StoryCreation] error in processing video")})}}function o(a,b){return function(e,f){e({type:"STORY_CREATION_UPLOAD_REQUESTED",uploadedBlob:a});var g=f(),h=g.storyCreation.activeText.renderText.join("\n");d("PolarisStoryCreationLogger").logStoryCreationEvent(l("compose_stage_attempt",g));return d("PolarisAPIFbUploaderPhoto").fbUploaderPhoto(a).then(function(a){var b=a.upload_id;e({type:"STORY_CREATION_UPLOAD_STAGED",uploadId:b});g=f();a=g.storyCreation;var c=a.mediaType,i=a.sessionId;d("PolarisStoryCreationLogger").logStoryCreationEvent(l("compose_finalize_attempt",g));return d("PolarisAPICreationFinalizeStory").creationFinalizeStory(b,h).then(function(a){d("PolarisStoryCreationLogger").logStoryCreationEvent(l("compose",g)),c!=null&&i!=null&&d("PolarisCreationCameraLogger").logStoryCreationShareMedia({mediaType:c,sessionId:i}),e({toast:{persistOnNavigate:!0,text:d("PolarisStoryCreationStrings").PHOTO_ADDED_TEXT},type:"STORY_CREATION_UPLOAD_SUCCEEDED",uploadId:b}),e(r())})["catch"](function(a){throw a})})["catch"](function(a){d("PolarisStoryCreationLogger").logStoryCreationEvent(l("compose_failure",g)),e({toast:{actionHandler:b,actionText:b&&d("PolarisGenericStrings").RETRY_TEXT,persistOnNavigate:!0,text:d("PolarisStoryCreationStrings").UPLOAD_FAILED_TEXT},type:"STORY_CREATION_UPLOAD_FAILED"}),a instanceof Error?(a.name="[StoryCreation] "+a.name,d("PolarisMonitorErrors").logError(a)):c("polarisUnexpected")("[StoryCreation] error in uploading story")})}}function p(a){return function(b){return d("PolarisAPICreationFinalizeStory").creationFinalizeStory(a).then(function(c){if(c.media&&c.media.pk)b({toast:{persistOnNavigate:!0,text:d("PolarisStoryCreationStrings").VIDEO_ADDED_TEXT},type:"STORY_CREATION_UPLOAD_SUCCEEDED",uploadId:a}),b(r());else throw c})}}function q(){return function(a,b){b=b().storyCreation;var e=b.coverPhoto;b=b.sourceVideo;var f=c("nullthrows")(b).uploadId;a({type:"STORY_CREATION_VIDEO_UPLOAD_REQUESTED"});return d("PolarisAPIRuploadVideo").ruploadVideo(b).then(function(){return d("PolarisAPIRuploadPhoto").ruploadPhoto(e)}).then(function(){return a(p(f))})["catch"](function(b){d("browserHistory").browserHistory.push("/"),a(d("PolarisNavigationActions").setNavSelection("NAVIGATION_SECTION_HOME")),a({toast:{persistOnNavigate:!0,text:d("PolarisStoryCreationStrings").UPLOAD_FAILED_TEXT},type:"STORY_CREATION_UPLOAD_FAILED"})})}}function r(){return function(a,b){return a(d("PolarisStoryActions").refreshStoryReels()).then(function(){var e=c("nullthrows")(d("polarisUserSelectors").getViewer__DEPRECATED(b()));a(d("PolarisStoryActions").invalidateStoryReel(e.id));d("browserHistory").browserHistory.replace("/");a(d("PolarisNavigationActions").setNavSelection("NAVIGATION_SECTION_HOME"))})}}function s(a,b,c){return{height:c,rawText:a,type:"STORY_CREATION_CHANGE_TEXT",width:b}}function t(){return{type:"STORY_CREATION_ENTER_ADD_TEXT"}}function u(){return{type:"STORY_CREATION_ENTER_EDIT_TEXT"}}function v(a,b){return{renderText:a,timeSpent:b,type:"STORY_CREATION_SAVE_TEXT"}}function w(a,b){return{stillMoving:a,transform:b,type:"STORY_CREATION_TRANSFORM_CANVAS_STICKER"}}function x(){return{type:"STORY_CREATION_DELETE_CANVAS_STICKER"}}function y(a,b,c){return{deltaX:a,deltaY:b,overTrash:c,type:"STORY_CREATION_MOVE_CANVAS_STICKER"}}function z(a){return{brush:a,type:"STORY_CREATION_CHANGE_ACTIVE_BRUSH"}}function A(a){return{size:a,type:"STORY_CREATION_CHANGE_BRUSH_SIZE"}}function B(a){return{color:a,type:"STORY_CREATION_CHANGE_COLOR"}}function C(a){return{color:a,type:"STORY_CREATION_CHANGE_DRAW_COLOR"}}function D(){return{type:"STORY_CREATION_EDIT_DRAWING"}}function E(a){return{startIndex:a,type:"STORY_CREATION_START_DRAWING"}}function F(a){return{line:a,type:"STORY_CREATION_DRAW_LINE"}}function G(a){return{isUsingModal:a,type:"STORY_CREATION_USE_MODAL"}}function H(){return{type:"STORY_CREATION_UNDO_DRAWING"}}function I(a){return{timeSpent:a,type:"STORY_CREATION_SAVE_DRAWING"}}function J(){return{type:"STORY_CREATION_OPEN_STICKER_TOOL"}}function K(){return{type:"STORY_CREATION_CLOSE_STICKER_TOOL"}}function L(a){return{bumpIndex:a,type:"STORY_CREATION_CHANGE_STICKER_ORDER"}}function M(a){return{sticker:a,type:"STORY_CREATION_ADD_STICKER"}}function N(){return function(a,b){var c=d("polarisUserSelectors").getViewer__DEPRECATED(b());return d("PolarisStoryCreationUtils").getPosition().then(function(b){b={latitude:b.coords.latitude,longitude:b.coords.longitude};return d("PolarisAPIGetStickers").getStickers({location:b,user:c}).then(function(b){var c=k(b.static_stickers);a({results:b.static_stickers.slice(c),type:"STORY_CREATION_CACHE_STICKER_RESULTS"})},function(b){a({results:j,type:"STORY_CREATION_CACHE_STICKER_RESULTS"})})},function(b){return d("PolarisAPIGetStickers").getStickers({location:null,user:c}).then(function(b){var c=k(b.static_stickers);a({results:b.static_stickers.slice(c),type:"STORY_CREATION_CACHE_STICKER_RESULTS"})},function(b){a({results:j,type:"STORY_CREATION_CACHE_STICKER_RESULTS"})})})}}function O(){return function(a,c){return new(i||(i=b("Promise")))(function(b,c){a({type:"STORY_CREATION_RESET_STICKER_RESULTS"});return b({})})}}function P(){return{type:"STORY_CREATION_SAVE_STORY"}}function Q(){return function(a,b){d("PolarisStoryCreationLogger").logStoryCreationEvent(l("exit_attempt",b())),a({type:"STORY_CREATION_EXIT_ATTEMPT"})}}function R(){return function(a,b){b=b();var c=b.storyCreation.sessionId;d("PolarisStoryCreationLogger").logStoryCreationEvent(l("exit",b));c!=null&&(d("PolarisCreationCameraLogger").logStoryCreationEndCameraSession({sessionId:c}),d("PolarisCreationCameraLogger").logStoryCreationEndPostCapture({sessionId:c}));a({type:"STORY_CREATION_EXIT"})}}function S(){return function(a,b){d("PolarisStoryCreationLogger").logStoryCreationEvent(l("exit_cancel",b())),a({type:"STORY_CREATION_EXIT_CANCEL"})}}function T(){return{type:"STORY_CREATION_TOGGLE_STICKER_VARIANT"}}g.setCanvasDimensions=a;g.startStoryCreationSession=e;g.storyCreationSelectMedia=f;g.storyCreationSelectImage=m;g.storyCreationSelectVideo=n;g.uploadStory=o;g.uploadStoryVideo=q;g.refreshStoryReelAndNavigateToFeed=r;g.changeActiveText=s;g.enterAddText=t;g.enterEditText=u;g.saveText=v;g.transformCanvasSticker=w;g.deleteCanvasSticker=x;g.moveCanvasSticker=y;g.changeBrush=z;g.changeBrushSize=A;g.changeColor=B;g.changeDrawColor=C;g.editDrawing=D;g.startDrawing=E;g.drawLineAction=F;g.useModal=G;g.undoDrawing=H;g.saveDrawing=I;g.openStickerTool=J;g.closeStickerTool=K;g.changeStickerOrder=L;g.addSticker=M;g.cacheStickerResults=N;g.resetStickerResults=O;g.saveStory=P;g.attemptExitStoryCreation=Q;g.exitStoryCreation=R;g.cancelExitStoryCreation=S;g.toggleStickerVariant=T}),98);
__d("PolarisStoryCreationFileForm.react",["PolarisImageFileForm.react","PolarisMediaHelpers","PolarisReactRedux.react","PolarisStoryCreationActions","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.handleStoryCreationClick=function(){if(d.$2===!0)return;d.$2=!0;d.props.onStartStoryCreation(d.props.entryPoint).then(function(){c("nullthrows")(d.$1).selectFile(),d.$2=!1})["catch"](function(){d.$2=!1})},b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.render=function(){var a=this;return i.jsx(d("PolarisImageFileForm.react").ImageFileForm,{acceptMimeTypes:Object.keys(d("PolarisMediaHelpers").IMAGE_MIME_TYPES),onFileChange:this.props.onMediaSelect,ref:function(b){return a.$1=b}})};return b}(i.Component);function a(a){return{onMediaSelect:function(b){b.length&&a(d("PolarisStoryCreationActions").storyCreationSelectMedia(b[0]))},onStartStoryCreation:function(b){return a(d("PolarisStoryCreationActions").startStoryCreationSession(b))}}}e=d("PolarisReactRedux.react").connect(null,a,null,{forwardRef:!0})(b);g["default"]=e}),98);
__d("PolarisMobileCreationNavItem.react",["IGDSBox.react","IGDSLazyPopoverTrigger.react","IGDSNewPostPanoOutlineIcon.react","JSResourceForInteraction","PolarisCreationActionCreationSelectMedia","PolarisCreationActionStartCreationSession","PolarisCreationMode","PolarisImageFileForm.react","PolarisLogger","PolarisMobileCreationNavItemTypes","PolarisNavigationActions","PolarisNavigationItem.react","PolarisNavigationStrings","PolarisReactRedux.react","PolarisStoryCreationFileForm.react","PolarisToastActions","QPLUserFlow","nullthrows","polarisUnexpected","qpl","react","usePolarisAnalyticsContext","usePolarisHidePopoverOnScroll"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useRef,l=c("JSResourceForInteraction")("PolarisMobileCreationMenuPopover.react").__setRef("PolarisMobileCreationNavItem.react");function a(a){var b=a.popoverPosition;b=b===void 0?d("PolarisMobileCreationNavItemTypes").PopoverPosition.Top:b;a=a.size;var e=c("usePolarisAnalyticsContext")(),f=i.jsx(c("IGDSNewPostPanoOutlineIcon.react"),{alt:d("PolarisNavigationStrings").HOME_TEXT,size:a}),g=d("PolarisReactRedux.react").useDispatch(),h=k(null);a=function(){d("PolarisLogger").logAction("storyCreationMenuItemClick"),c("nullthrows")(h.current).handleStoryCreationClick()};var m=k(!1),n=k(void 0),o=c("usePolarisHidePopoverOnScroll")(),p=j(function(){if(m.current===!0)return;d("PolarisLogger").logAction("creationMenuItemClick");m.current=!0;n.current?(n.current.selectFile(),g(d("PolarisCreationActionStartCreationSession").startCreationSession(d("PolarisCreationMode").CreationMode.POST))):(c("polarisUnexpected")("No image form"),g(d("PolarisToastActions").showToast({text:d("PolarisImageFileForm.react").IMAGE_FORM_ERROR})));m.current=!1},[g]),q=j(function(a){a.length&&(c("QPLUserFlow").start(c("qpl")._(379199405,"1518"),{annotations:{string:{source:e}}}),g(d("PolarisNavigationActions").trackEntrypoint()),g(d("PolarisCreationActionCreationSelectMedia").creationSelectMedia(a[0])))},[e,g]);return i.jsxs(c("IGDSBox.react"),{width:48,children:[i.jsx("div",{className:"x78zum5 xl56j7k",children:i.jsx(c("IGDSLazyPopoverTrigger.react"),{align:"middle",imperativeRef:o,popoverProps:{handleCameraIconClick:a,handlePostIconClick:p},popoverResource:l,position:b===d("PolarisMobileCreationNavItemTypes").PopoverPosition.Bottom?"below":"above",preloadTrigger:"button",children:function(a,b){return i.jsx(c("PolarisNavigationItem.react"),{icon:f,label:d("PolarisNavigationStrings").CREATE_TEXT,onClick:function(){d("PolarisLogger").logAction("creationNavItemClick"),d("PolarisLogger").logAction("cameraIconClick"),b()},productAttribution:{tap_point:"topnav-link"},ref:a})}})}),i.jsxs("div",{className:"xe3sdcl",children:[i.jsx(c("PolarisStoryCreationFileForm.react"),{entryPoint:"quick_cam_button",ref:function(a){return h.current=a}}),i.jsx(d("PolarisImageFileForm.react").ImageFileForm,{acceptMimeTypes:["image/jpeg"],onFileChange:q,ref:n})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFeedMobileTopNavigation.react",["IGDSBox.react","PolarisActivityStoryActions","PolarisConfig","PolarisErrorBoundary.react","PolarisFeedPageMobileHeaderTitleWithVariants.react","PolarisFeedVariantsHeader.react","PolarisGenericMobileHeader.react","PolarisInstagramMobileLogoTitle.react","PolarisMobileCreationNavItem.react","PolarisMobileCreationNavItemTypes","PolarisNavigationLayoutContext","PolarisNotificationsNavItem.react","PolarisPanavisionQEHelpers","PolarisReactRedux.react","PolarisSearchBoxContainer.react","PolarisSearchResultDisplayTypes","PolarisUA","cr:6698","cr:9047","react","stylex","usePolarisAnalyticsContext","usePolarisCurrentFeedVariant"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l=24,m={activityIcon:{display:"x78zum5",marginEnd:"x19f6ikt",marginLeft:null,marginRight:null,width:"x1r695p9",$$css:!0},searchBox:{marginEnd:"xq8finb",marginLeft:null,marginRight:null,$$css:!0},threadsNavItem:{display:"x78zum5",marginStart:"x1i64zmx",marginLeft:null,marginRight:null,$$css:!0}};function n(){var a=c("usePolarisCurrentFeedVariant")();if(a!=="home")return j.jsx(c("IGDSBox.react"),{direction:"row",justifyContent:"start",position:"relative",width:"100%",children:j.jsx(c("PolarisFeedVariantsHeader.react"),{variant:a})});return d("PolarisConfig").isLoggedIn()?j.jsx(c("PolarisFeedPageMobileHeaderTitleWithVariants.react"),{align:"start"}):j.jsx(c("PolarisInstagramMobileLogoTitle.react"),{isLink:!0})}n.displayName=n.name+" [from "+f.id+"]";function a(){var a=d("PolarisReactRedux.react").useDispatch(),e=k(c("PolarisNavigationLayoutContext"));e=e.navigationPosition;e=e==="bottom";var f=e&&d("PolarisPanavisionQEHelpers").hasSearchNavItem(),g=c("usePolarisAnalyticsContext")();function i(){a(d("PolarisActivityStoryActions").loadActivityFeed())}return j.jsx(c("PolarisGenericMobileHeader.react"),{align:"left",expandedHeight:d("PolarisPanavisionQEHelpers").hasSearchNavItem(),hideLeftActions:!0,rightActions:j.jsxs(j.Fragment,{children:[f&&j.jsx("div",{className:"xq8finb",children:b("cr:6698")==null?j.jsx(c("PolarisSearchBoxContainer.react"),{useHistory:!1}):j.jsx(c("PolarisErrorBoundary.react"),{children:j.jsx(b("cr:6698"),{analyticsContext:g,resultDisplayType:c("PolarisSearchResultDisplayTypes").Popover})})}),!d("PolarisUA").isDesktop()&&j.jsx(c("PolarisMobileCreationNavItem.react"),{popoverPosition:d("PolarisMobileCreationNavItemTypes").PopoverPosition.Bottom,size:l}),j.jsx("div",{className:(h||(h=c("stylex")))(e&&m.activityIcon),children:j.jsx(c("PolarisNotificationsNavItem.react"),{hasPadding:!1,modalOpen:!1,onClick:i,productAttribution:{tap_point:"topnav-link"},size:l,testid:void 0})}),!d("PolarisUA").isDesktop()&&b("cr:9047")!=null&&j.jsx("div",{className:"x78zum5 x1i64zmx",children:j.jsx(b("cr:9047"),{hasPadding:!1,isCollapsed:!0,productAttribution:{tap_point:"topnav-link"},size:24})})]}),title:j.jsx(n,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisAddToHomeScreen.react",["PolarisDismissEntry","PolarisLogger","PolarisUA","polarisShouldShowAddToHomeScreen","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useState;function m(a){a=c("polarisShouldShowAddToHomeScreen")()&&a;if(!a)return!1;if(d("PolarisUA").isUCBrowser())n();else return!0;return!1}function n(){window.defferedA2HSPrompt!=null&&(window.defferedA2HSPrompt.prompt(),d("PolarisLogger").logAction("a2hsShown"),window.defferedA2HSPrompt.userChoice.then(function(a){d("PolarisDismissEntry").setDismissEntry(d("PolarisDismissEntry").ADD_TO_HOMESCREEN_TYPE),a.outcome==="dismissed"?d("PolarisLogger").logAction("a2hsDismissed"):d("PolarisLogger").logAction("a2hsAdded"),window.defferedA2HSPrompt=null}))}function a(a){a=a.addToHomeScreenUI;var b=l(!!window.defferedA2HSPrompt),c=b[0],e=b[1];b=l(m(c));c=b[0];var f=b[1];k(function(){e(!!window.defferedA2HSPrompt),f(m(!!window.defferedA2HSPrompt))},[window.defferedA2HSPrompt]);b=j(function(){window.defferedA2HSPrompt!=null&&(window.defferedA2HSPrompt.prompt(),d("PolarisLogger").logAction("a2hsShown"),window.defferedA2HSPrompt.userChoice.then(function(a){a.outcome==="dismissed"?d("PolarisLogger").logAction("a2hsDismissed"):d("PolarisLogger").logAction("a2hsAdded"),window.defferedA2HSPrompt=null}))},[]);var g=j(function(){d("PolarisLogger").logAction("a2hsNuxDismissed"),f(!1),d("PolarisDismissEntry").setDismissEntry(d("PolarisDismissEntry").ADD_TO_HOMESCREEN_TYPE)},[]),h=j(function(){e(!0)},[]);k(function(){window.addEventListener("beforeinstallprompt",h);return function(){window.removeEventListener("beforeinstallprompt",h)}},[h]);if(!c)return null;c=a;return i.jsx(c,{onAction:b,onClose:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisAddToHomeScreenStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__D0XW0n-wWaO__JHASH__");b=h._("__JHASH__YLx2XeI0u_X__JHASH__");c=h._("__JHASH__f6lQi1zhdtx__JHASH__");g.A2HS_MODAL_PARAGRAPH=a;g.A2HS_MODAL_TITLE=b;g.A2HS_MODAL_ACTION_TITLE=c}),98);
__d("PolarisAddToHomeScreenModal.react",["IGCoreDialog.react","PolarisAddToHomeScreen.react","PolarisAddToHomeScreenStrings","PolarisGenericStrings","PolarisIGCoreDialogCircleMedia","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=i.jsx("img",{alt:"",height:"76px",src:"/images/instagram/xig/ico/xxhdpi_launcher.png?__d=www",width:"76px"}),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var e=a.prototype;e.render=function(){var a=i.jsx(c("PolarisIGCoreDialogCircleMedia"),{icon:j});return i.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:d("PolarisAddToHomeScreenStrings").A2HS_MODAL_PARAGRAPH,media:a,title:d("PolarisAddToHomeScreenStrings").A2HS_MODAL_TITLE,children:[i.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.props.onAction,children:d("PolarisAddToHomeScreenStrings").A2HS_MODAL_ACTION_TITLE}),i.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:this.props.onClose,children:d("PolarisGenericStrings").CANCEL_TEXT})]})};return a}(i.PureComponent);function a(){return i.jsx(c("PolarisAddToHomeScreen.react"),{addToHomeScreenUI:k})}a.displayName=a.name+" [from "+f.id+"]";g.AddToHomeScreenModalUI=k;g.AddToHomeScreenModal=a}),98);
__d("PolarisGenericNullStateView.react",["IGDSBox.react","IGDSText.react","PolarisIGCoreButton.react","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.backgroundColor,d=a.body,e=a.errorMessage,f=a.header,g=a.icon,h=a.primaryAction,j=a.primaryActionName,k=a.primaryButtonTestId;k=a.secondaryAction;a=a.secondaryActionName;return i.jsxs(c("IGDSBox.react"),{alignItems:"center",color:b!=null?b:void 0,display:"flex",height:"100%",justifyContent:"center",padding:6,position:"relative",width:"100%",children:[g,i.jsx(c("IGDSBox.react"),{marginTop:4,position:"relative",children:i.jsx(c("IGDSText.react").Title,{textAlign:"center",children:f})}),d!=null&&i.jsx(c("IGDSBox.react"),{marginTop:4,position:"relative",children:i.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",children:d})}),!c("isStringNullOrEmpty")(e)&&i.jsx(c("IGDSBox.react"),{marginTop:3,position:"relative",children:i.jsx(c("IGDSText.react"),{color:"errorOrDestructive",children:e})}),i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",marginTop:6,position:"relative",children:[h!=null&&j!=null&&i.jsx(c("IGDSBox.react"),{padding:1,position:"relative",children:i.jsx(c("PolarisIGCoreButton.react"),{"data-testid":void 0,onClick:h,children:j})}),k!=null&&a!=null&&i.jsx(c("IGDSBox.react"),{padding:1,position:"relative",children:i.jsx(c("PolarisIGCoreButton.react"),{color:"ig-secondary-button",onClick:k,children:a})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFavoritesFeedNullStateView.react",["IGDSBox.react","IGDSStarOutline96Icon.react","PolarisFeedVariantsStrings","PolarisGenericNullStateView.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx(c("PolarisGenericNullStateView.react"),{body:d("PolarisFeedVariantsStrings").FAVORITES_NULL_STATE_BODY_TEXT,header:d("PolarisFeedVariantsStrings").FAVORITES_NULL_STATE_HEADER_TEXT,icon:i.jsx(c("IGDSBox.react"),{marginBottom:2,position:"relative",children:i.jsx(c("IGDSStarOutline96Icon.react"),{alt:d("PolarisFeedVariantsStrings").FAVORITES_NULL_STATE_ICON_ALT,size:96})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFeedActionSetShowSurvey",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{showSurvey:a,type:"FEED_SET_SHOW_SURVEY"}}f.setShowSurvey=a}),66);
__d("PolarisIntegrationPointId",[],(function(a,b,c,d,e,f){"use strict";a={IG_DIRECT_FRX_DROP_OFF:"235943758742641",IG_WEB_TESSA_TEST:"467136164230165"};f.IntegrationPointId=a}),66);
__d("PolarisStoryTrayGlimmerPlaceholderItem.react",["IGDSGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={circle:{borderTopColor:"x1o0lnaz",borderEndColor:"xsf7ite",borderBottomColor:"xnilrbp",borderStartColor:"xtbcvw3",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",height:"x1peatla",width:"x1fu8urw",$$css:!0},circleContainer:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",flexShrink:"x2lah0s",marginEnd:"xfs2ol5",marginLeft:null,marginRight:null,paddingTop:"x1nn3v0j",width:"x3z43lg",$$css:!0}};function a(a){a=a.index;return i.jsx("div",{className:"x6s0dn4 x9f619 x78zum5 x2lah0s xfs2ol5 x1nn3v0j x3z43lg",children:i.jsx(c("IGDSGlimmer.react"),{index:a,xstyle:j.circle})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryTrayGlimmerPlaceholder.react",["PolarisFeedPageConstants","PolarisStoryTrayGlimmerPlaceholderItem.react","PolarisUA","range","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={grid:{display:"x78zum5",height:"xcbkimw",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},gridLeftPadding:{paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,$$css:!0}},l=76;function a(){var a=Math.ceil((d("PolarisUA").isDesktop()?d("PolarisFeedPageConstants").FEED_WIDTH_WIDE_STORY:d("PolarisFeedPageConstants").FAMILIAR_FEED_WIDTH)/l);return j.jsx("div",{className:(h||(h=c("stylex")))(k.grid,d("PolarisUA").isMobile()&&k.gridLeftPadding),"data-testid":void 0,children:c("range")(0,a).map(function(a){return j.jsx(c("PolarisStoryTrayGlimmerPlaceholderItem.react"),{index:a},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("polarisConsentSelectors",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.consent.isModalOpen}f.isConsentModalOpen=a}),66);
__d("usePolarisRefetchFeedQueryLoader",["CometRelay","PolarisFeedActionLoadFeedPageExtras","PolarisFeedLastHeadLoadContext.react","PolarisFeedQueryConstants","PolarisFeedSeenStateManagerSingleton","PolarisFeedTimelineRootV2Query.graphql","PolarisLogger","PolarisReactRedux.react","react","usePolarisFeedVariantFromRoute"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useTransition;function a(a){var b=i(),e=b[0],f=b[1];b=d("CometRelay").useQueryLoader(c("PolarisFeedTimelineRootV2Query.graphql"),a);a=b[0];var g=b[1],h=d("PolarisReactRedux.react").useDispatch(),j=c("usePolarisFeedVariantFromRoute")(),k=d("PolarisFeedLastHeadLoadContext.react").useSetLastHeadLoadMs();b=function(){d("PolarisLogger").logAction("refreshFeedDataAttempt");var a=d("PolarisFeedQueryConstants").FEED_TIMELINE_REQUEST_BODY,b=c("PolarisFeedSeenStateManagerSingleton").get();if(b.count()>0){var e=b.getViewInfo();b.clear();a=babelHelpers["extends"]({},a,{feed_view_info:e})}h(d("PolarisFeedActionLoadFeedPageExtras").loadFeedPageExtras());k(Date.now());f(function(){g({data:a,variant:String(j)})})};return{isRefetching:e,queryReference:a,refetchFeed:b}}g["default"]=a}),98);
__d("PolarisFeedWrapper.next.react",["CometErrorBoundary.react","CometPlaceholder.react","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","PolarisAddToHomeScreenModal.react","PolarisConsentModal.react","PolarisDsaQEHelpers","PolarisErrorBoundary.react","PolarisFavoritesFeedNullStateView.react","PolarisFeed.next.react","PolarisFeedActionClosePostModal","PolarisFeedActionOpenPostModalForId","PolarisFeedActionSetShowSurvey","PolarisFeedContext.react","PolarisFeedEmptyGlimmer.react","PolarisFeedGlimmer.next.react","PolarisFeedPageConstants","PolarisHttp500UnexpectedErrorPage.react","PolarisIntegrationPointId","PolarisLogger","PolarisNavigationLayoutContext","PolarisNavigationUtils","PolarisPanavisionQEHelpers","PolarisReactRedux.react","PolarisStoryTrayGlimmerPlaceholder.react","XPolarisFeedControllerRouteBuilder","cr:7161","cr:8371","deferredLoadComponent","lazyLoadComponent","polarisConsentSelectors","polarisShouldShowAddToHomeScreen","react","requireDeferred","requireDeferredForDisplay","stylex","useCometRouterState","useMatchViewport","usePolarisFeedShouldShowSidebar","usePolarisFeedVariantDsaHeader","usePolarisFeedVariantFromRoute","usePolarisIsFeedMobileLayout","usePolarisPreloadedPostQuery","usePolarisRefetchFeedQueryLoader","usePolarisSelector","usePrevious","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useContext,m=e.useEffect,n=c("deferredLoadComponent")(c("requireDeferred")("PolarisFeedPagePostModal.react").__setRef("PolarisFeedWrapper.next.react")),o=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisFeedQPManager.react").__setRef("PolarisFeedWrapper.next.react")),p=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisSurveyManager.react").__setRef("PolarisFeedWrapper.next.react")),q=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisFeedEmptySULWrapper.next.react").__setRef("PolarisFeedWrapper.next.react")),r=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisStoriesTrayWrapper.react").__setRef("PolarisFeedWrapper.next.react")),s={dsaHeader:{marginBottom:"x1yztbdb",$$css:!0},mobilePadding:{paddingStart:"x1swvt13",paddingLeft:null,paddingRight:null,paddingEnd:"x1pi30zi",$$css:!0},rootDesktop:{marginTop:"xw7yly9",$$css:!0},spinnerContainer:{position:"xixxii4",start:"xtzzx4i",left:null,right:null,top:"xwa60dl",$$css:!0},storyTrayBorder:{borderBottomColor:"x1ixjvfu",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},storyTrayDenserDesktopContainer:{marginBottom:"xmnaoh6",$$css:!0},storyTrayDesktopContainer:{marginBottom:"x18dvoc8",$$css:!0},storyTrayTabletContainer:{marginTop:"x1xmf6yo",$$css:!0}};function t(a){d("PolarisNavigationUtils").openURL(c("XPolarisFeedControllerRouteBuilder").buildURL({variant:a})),d("PolarisLogger").logAction("dsaTabSwitch",{implementation:d("PolarisPanavisionQEHelpers").hasPolarisFeedRevamp()?"relay":"non-relay",intent_source:a==="home"?"default":"non_profiled",source:"feedPage"})}function u(a,b){if(b)return!1;return d("PolarisDsaQEHelpers").isDsaFeed()?a==="home"||a==="following":a==="home"}function v(a){var b=a.isRefetching,d=a.polarisSuggestedUserListQueryRef,e=a.queryReference,f=a.showEmptyFeed,g=a.suggestedUserListPreloadedQuery;a=a.variant;if(f)return j.jsx(w,{polarisSuggestedUserListQueryRef:d,suggestedUserListPreloadedQuery:g,variant:a});return e!=null&&b!==!0?j.jsx(c("PolarisFeed.next.react"),{queryReference:e}):j.jsx(c("PolarisFeedGlimmer.next.react"),{})}v.displayName=v.name+" [from "+f.id+"]";function a(a){var e=d("PolarisReactRedux.react").useDispatch(),f=d("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout(),g=l(c("PolarisNavigationLayoutContext"));g=g.navigationPosition;var i=g==="bottom"&&!f,q=c("usePolarisSelector")(function(a){return a.feed}),w=q.postModalId;q=q.postModalIndex;var x=c("usePolarisRefetchFeedQueryLoader")(a.queries.polarisFeedTimelineQuery),y=x.isRefetching,z=x.queryReference,A=x.refetchFeed,B=c("useRoutePassthroughProps")(),C=c("useCometRouterState")(),D=c("usePrevious")(C==null?void 0:C.routeKey);m(function(){(C==null?void 0:C.routeKey)!==D&&D!=null&&y!==!0&&(B==null?void 0:B.refreshFeed)===!0&&(window.scrollTo(0,0),A())},[y,B==null?void 0:B.refreshFeed,D,A,C==null?void 0:C.routeKey]);x=k(function(){e(d("PolarisFeedActionClosePostModal").closePostModal())},[e]);var E=k(function(a){e(d("PolarisFeedActionOpenPostModalForId").openPostModalForId(a))},[e]),F=c("usePolarisSelector")(d("polarisConsentSelectors").isConsentModalOpen),G=c("usePolarisSelector")(function(a){return a.feed.showSurvey}),H=c("polarisShouldShowAddToHomeScreen")(),I=c("usePolarisFeedVariantFromRoute")(),J=c("usePolarisFeedVariantDsaHeader")(),K=c("usePolarisFeedShouldShowSidebar")();K=K||I!=="home";var L=l(d("PolarisFeedContext.react").PolarisFeedContext),M=L.feedMediaWidth;L=L.showEmptyFeed;var N=u(I,L),O=c("useMatchViewport")("min","width",d("PolarisFeedPageConstants").FAMILIAR_FEED_WIDTH);O=O?M:"100vw";L&&(O=d("PolarisFeedPageConstants").EMPTY_FEED_WIDTH+"px");M=s.storyTrayDesktopContainer;N&&!f&&(M=s.storyTrayDenserDesktopContainer);return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:(h||(h=c("stylex")))(!f&&s.rootDesktop),"data-testid":void 0,children:[J&&b("cr:7161")&&j.jsx("div",{className:(h||(h=c("stylex")))(s.dsaHeader,g==="bottom"&&s.mobilePadding),children:j.jsx(b("cr:7161"),{currentFeed:I,onChange:t})}),N&&j.jsx("div",{className:(h||(h=c("stylex")))(!f&&M,i&&s.storyTrayTabletContainer),children:j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("PolarisStoryTrayGlimmerPlaceholder.react"),{}),children:j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return j.jsx("div",{})},children:j.jsx("div",{className:(h||(h=c("stylex")))(f&&s.storyTrayBorder),children:j.jsx(r,{hideOwnStory:K,queryReference:a.queries.storiesTrayQuery,storyTrayPolarisPreloadedQuery:a.props.routeProps.polaris_preload.story_tray},"storyTray")})})})}),j.jsx(c("IGDSBox.react"),{alignItems:"center",display:"flex",children:j.jsx(c("IGDSBox.react"),{maxWidth:"100%",width:(J=O)!=null?J:0,children:j.jsxs(c("CometPlaceholder.react"),{fallback:j.jsx(j.Fragment,{children:L?j.jsx(c("PolarisFeedEmptyGlimmer.react"),{}):j.jsx(c("PolarisFeedGlimmer.next.react"),{})}),children:[j.jsx(c("PolarisErrorBoundary.react"),{children:j.jsx(o,{showEmptyFeed:L})}),j.jsx(c("PolarisErrorBoundary.react"),{errorRenderer:function(){return j.jsx(c("IGDSBox.react"),{marginTop:10,children:j.jsx(c("PolarisHttp500UnexpectedErrorPage.react"),{})})},children:j.jsx(v,{isRefetching:y,polarisSuggestedUserListQueryRef:a.queries.polarisSuggestedUserListQuery,queryReference:z,showEmptyFeed:L,suggestedUserListPreloadedQuery:a.props.routeProps.polaris_preload.suggested_user_list,variant:I})})]})})}),w!=null&&n!=null&&j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx("div",{className:"xixxii4 xtzzx4i xwa60dl",children:j.jsx(c("IGDSSpinner.react"),{})}),children:j.jsx(n,{onClose:x,onOpen:E,postId:w,sidecarIndex:q})})]}),F!==!0&&(H?j.jsx(d("PolarisAddToHomeScreenModal.react").AddToHomeScreenModal,{}):b("cr:8371")!=null&&j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(b("cr:8371"),{})})),j.jsx(c("PolarisConsentModal.react"),{}),G&&j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(p,{onClose:function(){return e(d("PolarisFeedActionSetShowSurvey").setShowSurvey(!1))},surveyIntegrationPointId:d("PolarisIntegrationPointId").IntegrationPointId.IG_WEB_TESSA_TEST})})]})}a.displayName=a.name+" [from "+f.id+"]";function w(a){var b=a.polarisSuggestedUserListQueryRef,d=a.suggestedUserListPreloadedQuery;a=a.variant;d=c("usePolarisPreloadedPostQuery")(d);return a==="favorites"?j.jsx(c("PolarisFavoritesFeedNullStateView.react"),{}):j.jsx(q,{polarisSuggestedUserListQueryRef:b,suggestedUserListQueryRef:d})}w.displayName=w.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisWebShareHelpers",["Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g;function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield caches.open("pwa-shared-files")),c=(yield a.match("latest").then(function(a){return a==null?void 0:a.text()}));c=JSON.parse((c=c)!=null?c:"[]");if(c.length<1)return null;var d=new Array(c.length);yield (g||(g=b("Promise"))).all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield a.match(b.cacheKey));c=(yield c.blob());c=new File([c],b.cacheKey+b.extension,{type:b.type});d[b.idx]=c});return function(a){return c.apply(this,arguments)}}()));return d});return h.apply(this,arguments)}f.fetchMediaFilesFromPolarisWebShare=a}),66);
__d("polarisCreationStateFactory",[],(function(a,b,c,d,e,f){"use strict";var g={advancedSettings:{hasAdsEnabled:!1,hasAudioReuseDisabled:!1,hasCommentsDisabled:!1,hasInternalOnlyEnabled:!1,hasLikeViewCountsDisabled:!1,hasVideoSubtitlesEnabled:!1},archiveOnly:!1,caption:"",cropRatio:null,cropType:null,currentMediaId:null,eligibleUpcomingEvents:[],entryPath:"/",errorPage:null,hasAttemptedToPostWithEmpyCaption:!1,hasViewedPhotoTooltip:!1,hasViewedReorderTooltip:!1,isPosted:!1,location:null,media:new Map(),monetizationEligibility:null,multiPostOrder:[],postedMedia:null,sessionId:"",upcomingEvent:null};function a(a){a===void 0&&(a={});return babelHelpers["extends"]({},g,a)}f.defaultState=g;f.creationStateFactory=a}),66);
__d("usePolarisCreationDialogFromSharesheet",["InstagramODS","PolarisWebShareHelpers","asyncToGeneratorRuntime","polarisCreationStateFactory","promiseDone","usePolarisCreationDialog.react"],(function(a,b,c,d,e,f,g){"use strict";function h(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("PolarisWebShareHelpers").fetchMediaFilesFromPolarisWebShare());if(!a)return{};a=d("polarisCreationStateFactory").creationStateFactory({preselectedFiles:a});return{editPostInfo:{beginningState:a,onClose:function(){}}}});return i.apply(this,arguments)}function a(){var a=c("usePolarisCreationDialog.react")(),b=a[0];a=function(){c("promiseDone")(h(),function(a){Object.keys(a).length>0&&c("InstagramODS").incr("web.sharesheet.trigger_create"),b(a)})};return{triggerPolarisCreationDialogFromSharesheet:a}}g["default"]=a}),98);
__d("usePolarisGetPageIdentifierFromFeedVariant",["usePolarisFeedVariantFromRoute"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("usePolarisFeedVariantFromRoute")();switch(a){case"favorites":return"favoritesFeedPage";case"following":return"followingFeedPage";case"past_posts":return"pastPostsFeedPage";default:return"feedPage"}}g["default"]=a}),98);
__d("usePolarisGetStoryTrayVariant",["PolarisDsaQEHelpers","PolarisStoryState","usePolarisFeedVariantFromRoute"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("usePolarisFeedVariantFromRoute")();return a==="following"&&d("PolarisDsaQEHelpers").isDsaFeed()?d("PolarisStoryState").PolarisStoryTrayVariants.FOLLOWING:d("PolarisStoryState").PolarisStoryTrayVariants.HOME}g["default"]=a}),98);
__d("PolarisFeedRoot.next.react",["CometPlaceholder.react","PolarisDsaQEHelpers","PolarisFeedActionLoadFeedPageExtras","PolarisFeedActionSelectFeedVariant","PolarisFeedContainerLayout.react","PolarisFeedMobileTopNavigation.react","PolarisFeedWrapper.next.react","PolarisFooterVariants","PolarisNavigationActions","PolarisPageMetadata.react","PolarisReactRedux.react","PolarisShell.react","cr:6865","deferredLoadComponent","react","requireDeferred","usePolarisCreationDialog.react","usePolarisCreationDialogFromSharesheet","usePolarisFeedVariantFromRoute","usePolarisGetPageIdentifierFromFeedVariant","usePolarisGetStoryTrayVariant","usePolarisSelector","useRouteReferrer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.useRef,l=c("deferredLoadComponent")(c("requireDeferred")("PolarisLightweightNewPostsPill.react").__setRef("PolarisFeedRoot.next.react"));function a(a){var e,f=d("PolarisReactRedux.react").useDispatch(),g=((e=c("useRouteReferrer")())==null?void 0:e.navigationType)==="navigation";e=a.props.routeParams;var h=e.create_live,m=e.create_post,n=e.from_share;e=c("usePolarisGetPageIdentifierFromFeedVariant")();var o=c("usePolarisFeedVariantFromRoute")(),p=c("usePolarisSelector")(function(a){return a.stories.content}),q=c("usePolarisGetStoryTrayVariant")(),r=d("PolarisDsaQEHelpers").isDsaFeed()?o==="home":!0,s=k(!1),t=c("usePolarisCreationDialog.react")(),u=t[0];t=c("usePolarisCreationDialogFromSharesheet")();var v=t.triggerPolarisCreationDialogFromSharesheet;j(function(){f(d("PolarisFeedActionSelectFeedVariant").selectFeedVariant(o))},[f,o]);j(function(){var a;g&&((a=p[q])==null?void 0:a.feedTray)==null&&d("PolarisDsaQEHelpers").isDsaFeed()&&f(d("PolarisFeedActionLoadFeedPageExtras").loadFeedPageExtras())},[f,p,q,g]);j(function(){if(s.current)return;s.current=!0;m===!0?n===!0?v():u({}):h===!0&&f(d("PolarisNavigationActions").openLiveCreationModal())},[f,m,h,n,u,v]);return i.jsxs(c("PolarisShell.react"),{footerVariant:c("PolarisFooterVariants").centered,mobileHeader:i.jsx(c("PolarisFeedMobileTopNavigation.react"),{}),pageIdentifier:e,children:[i.jsx(c("PolarisPageMetadata.react"),{id:e}),i.jsx(c("PolarisFeedContainerLayout.react"),{mainComponent:i.jsx(c("PolarisFeedWrapper.next.react"),babelHelpers["extends"]({},a)),sidebarComponent:b("cr:6865")!=null?i.jsx(b("cr:6865"),{suggestedUserListPolarisPreloadedQuery:a.props.routeProps.polaris_preload.suggested_user_list,suggestedUserListQueryRef:a.queries.polarisSuggestedUserListQuery}):void 0}),r&&i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(l,{alwaysUseCometDispatch:!0})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFeedSidebarLayout.react",["IGDSBox.react","PolarisErrorBoundary.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=4,k=9,l=6;function a(a){var b=a.footer,d=a.header;a=a.suggestedUserList;return i.jsxs(c("IGDSBox.react"),{marginTop:k,children:[d,i.jsx(c("PolarisErrorBoundary.react"),{children:i.jsx(c("IGDSBox.react"),{marginBottom:2,marginTop:l,children:a})}),i.jsx(c("IGDSBox.react"),{alignItems:"start",marginBottom:2,paddingX:j,children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFeedSidebarGlimmer.react",["IGDSBox.react","IGDSListItemPlaceholder.react","PolarisFeedEmptyGlimmer.react","PolarisFeedSidebarLayout.react","PolarisFooter.react","PolarisFooterVariants","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx(c("PolarisFeedSidebarLayout.react"),{footer:i.jsx(c("PolarisFooter.react"),{variant:c("PolarisFooterVariants").sidebar}),header:i.jsx(c("IGDSListItemPlaceholder.react"),{fullWidth:!0,index:0,size:"large"}),suggestedUserList:i.jsx(c("IGDSBox.react"),{marginBottom:6,width:"100%",children:i.jsx(c("PolarisFeedEmptyGlimmer.react"),{})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFeedSidebarWrapperDeferred.react",["CometPlaceholder.react","PolarisFeedSidebarGlimmer.react","deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisFeedSidebarWrapper.next.react").__setRef("PolarisFeedSidebarWrapperDeferred.react"));function a(a){var b=a.suggestedUserListPolarisPreloadedQuery;a=a.suggestedUserListQueryRef;return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("PolarisFeedSidebarGlimmer.react"),{}),children:i.jsx(j,{suggestedUserListPolarisPreloadedQuery:b,suggestedUserListQueryRef:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getPolarisFeedPrefetchDistance",["PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";var h=6,i=8;function a(){if(d("PolarisUA").isMobile())return h;else return i}g["default"]=a}),98);
__d("PolarisFeedStoryTrayWrapper.react",["cx","PolarisFeedPageConstants","PolarisPanavisionQEHelpers","PolarisUA","hero-tracing","react","useMatchViewport"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.children,e=c("useMatchViewport")("min","width",d("PolarisFeedPageConstants").FEED_WITH_PADDING_THRESHOLD_MIN),f=d("PolarisUA").isDesktop(),g=d("PolarisPanavisionQEHelpers").hasPolarisFeedRevamp();return j.jsx(d("hero-tracing").HeroPagelet,{name:"story_tray",children:function(a,c){return j.jsxs("div",{className:"_aac4"+(e?" _aac5":"")+(d("PolarisUA").isDesktop()?" _aac6":"")+(f||g?" _aj3f":"")+(g?" _ajdu":""),children:[b(a),j.jsx(c,{})]})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryTrayItemBase.react",["PolarisIGCoreText","PolarisStoryStrings","PolarisUA","PolarisUserAvatarWithStories.react","polarisAvatarConstants","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={avatar:{marginBottom:"x1e56ztr",marginTop:"x1gslohp",$$css:!0},isMuted:{opacity:"xbyyjgo",$$css:!0},root:{alignItems:"x6s0dn4",alignSelf:"xamitd3",backgroundColor:"xjbqb8w",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",cursor:"x1ypdohk",display:"x78zum5",flexDirection:"xdt5ytf",paddingBottom:"x18d9i69",paddingTop:"xexx8yu",textAlign:"x2b8uid",width:"x1fu8urw",$$css:!0},username:{boxSizing:"x9f619",display:"x1lliihq",maxWidth:"xc99tnm",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",textAlign:"x2b8uid",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",$$css:!0},usernameLong:{letterSpacing:"x1yf5rgg",maxWidth:"xhikscq",paddingEnd:"xg83lxy",paddingLeft:null,paddingRight:null,paddingStart:"x1h0ha7o",$$css:!0}};function a(a){var b=a.clickTargetElementId,e=a.isLive,f=a.isLoadingOverride,g=a.isMuted,i=a.isSeen,l=a.label,m=a.onClick,n=a.profilePictureUrl;a=a.username;var o=i?d("PolarisStoryStrings").seenStoryTrayItemAriaLabel(a):d("PolarisStoryStrings").unseenStoryTrayItemAriaLabel(a);return j.jsxs("button",{"aria-label":o,className:(h||(h=c("stylex")))(k.root,g&&k.isMuted),onClick:m,role:"menuitem",tabIndex:"0",children:[j.jsx(c("PolarisUserAvatarWithStories.react"),{className:"x1e56ztr x1gslohp",clickTargetElementId:b,isClickable:!1,isLink:!1,isLoadingOverride:f,profilePictureUrl:n,showLiveBadge:e===!0,showLivePulse:e===!0,showLiveRing:e===!0,size:d("polarisAvatarConstants").STORY_TRAY_AVATAR_SIZE,storyEntrypoint:"reel_feed_timeline",username:a}),j.jsx(c("PolarisIGCoreText"),{color:i?"ig-secondary-text":"ig-primary-text",size:"footnote",zeroMargin:!0,children:j.jsx("div",{className:h(k.username,d("PolarisUA").isDesktop()&&k.usernameLong),children:l})})]})}a.displayName=a.name+" [from "+f.id+"]";g.PolarisStoryTrayItemBase=a}),98);
__d("PolarisLiveStoryTrayItem.react",["IGDSBox.react","IGDSText.react","PolarisIGCoreText","PolarisLiveActions","PolarisLiveStrings","PolarisReactRedux.react","PolarisStoryTrayItemBase.react","polarisLiveSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useState,m=!1;function a(a){var b=a.broadcast,e=a.isVisible,f=a.onScrollEnter,g=a.trayPosition;a=b.cobroadcasters;var h=b.muted,n=d("PolarisReactRedux.react").useDispatch(),o=l(!1),p=o[0],q=o[1];o=j(function(){q(!0),n(d("PolarisLiveActions").openLivePlayerFromStoryTray(b,"live_feed_timeline",g))},[b,n,g]);var r=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisLiveSelectors").getDisplayedBroadcasters(a,b.id)});r=r.primary;k(function(){e&&f(b,g)},[b,e,f,g]);a=a!=null&&a.length>0?i.jsxs(c("IGDSBox.react"),{direction:"row",position:"relative",children:[i.jsx(c("IGDSBox.react"),{marginEnd:1,maxWidth:44,position:"relative",children:i.jsx(c("PolarisIGCoreText"),{display:"truncated",size:"footnote",zeroMargin:!0,children:r.username})}),i.jsx(c("IGDSText.react"),{size:"footnote",zeroMargin:!0,children:d("PolarisLiveStrings").liveBroadcasters(a.length)})]}):r.username;return i.jsx(d("PolarisStoryTrayItemBase.react").PolarisStoryTrayItemBase,{isLive:!0,isLoadingOverride:p,isMuted:h,isSeen:m,label:a,onClick:o,profilePictureUrl:r.profile_pic_url,username:r.username})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryTrayItem.react",["PolarisDsaQEHelpers","PolarisErrorBoundary.react","PolarisLogger","PolarisPanavisionQEHelpers","PolarisReactRedux.react","PolarisStoriesStrings","PolarisStoryState","PolarisStoryTrayItemBase.react","nullthrows","polarisMemoizeLast","polarisStorySelectors","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=0;e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={isLoading:!1},e.$1=c("polarisMemoizeLast")(function(a){return"StoryTrayItem_"+j++}),e.$3=function(){e.setState({isLoading:!0}),e.props.onClick(e.props.reel.id,e.$1(e.props.reel.id)),d("PolarisDsaQEHelpers").isDsaFeed()&&d("PolarisLogger").logAction("reelPlaybackEntryDsaFeed",{implementation:d("PolarisPanavisionQEHelpers").hasPolarisFeedRevamp()?"relay":"non-relay",reel_position:e.props.trayPosition,source:e.props.currentFeed===d("PolarisStoryState").PolarisStoryTrayVariants.HOME?"default":"non_profiled"})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentDidMount=function(){this.props.isVisible&&this.$2()};e.componentDidUpdate=function(a){!a.isVisible&&this.props.isVisible&&this.$2()};e.$2=function(){this.props.onScrollEnter(c("nullthrows")(this.props.reel.userId),this.props.trayPosition)};e.render=function(){var a=this.props,b=a.isMuted,c=a.isSeen,e=a.isViewer,f=a.profilePictureUrl;a=a.username;e=e?d("PolarisStoriesStrings").YOUR_STORY_TEXT:a;return i.jsx(d("PolarisStoryTrayItemBase.react").PolarisStoryTrayItemBase,{clickTargetElementId:this.$1(this.props.reel.id),isLoadingOverride:this.state.isLoading,isMuted:b||!1,isSeen:c,label:e,onClick:this.$3,profilePictureUrl:f,username:this.props.username})};return b}(i.PureComponent);function a(a,b){var e=d("polarisUserSelectors").getUserById(a,c("nullthrows")(b.reel.userId));return{currentFeed:a.stories.currentFeed,isMuted:b.reel.muted,isSeen:d("polarisStorySelectors").isReelSeen(b.reel),isViewer:a.users.viewerId===b.reel.id,profilePictureUrl:c("nullthrows")(e.profilePictureUrl),username:c("nullthrows")(e.username)}}var k=d("PolarisReactRedux.react").connect(a)(e);function b(a){return i.jsx(c("PolarisErrorBoundary.react"),{errorRenderer:function(a){return null},children:i.jsx(k,babelHelpers["extends"]({},a))})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),98);
__d("PolarisOwnStoryTrayItem.react",["fbt","invariant","IGDSCircleAddPanoFilledIcon.react","PolarisReactRedux.react","PolarisStoriesStrings","PolarisStoryActions","PolarisStoryCreationFileForm.react","PolarisStoryTrayItem.react","PolarisUA","PolarisUserAvatar.react","nullthrows","polarisStorySelectors","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$2=function(){if(!d("PolarisUA").isMobile())return;c("nullthrows")(e.$1).handleStoryCreationClick()},e.$3=function(a,b){e.props.onOpenReel(a,b,"reel_feed_timeline")},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=this,b=this.props,e=b.hasOwnReel,f=b.profilePictureUrl;b=babelHelpers.objectWithoutPropertiesLoose(b,["hasOwnReel","profilePictureUrl"]);if(e===!0){b.onOpenReel;e=b.reel;b.viewerId;b=babelHelpers.objectWithoutPropertiesLoose(b,["onOpenReel","reel","viewerId"]);e!=null||i(0,51576);return k.jsx(c("PolarisStoryTrayItem.react"),babelHelpers["extends"]({},b,{onClick:this.$3,reel:e}))}return k.jsxs("button",{className:"x6s0dn4 xamitd3 xjbqb8w x972fbf xcfux6l x1qhh985 xm0m39n x1ypdohk xdt5ytf xdj266r x11i5rnm xat24cr x1mh8g0r x6ikm8r x10wlt62 xexx8yu x4uap5 x18d9i69 xkhd6sd x1n2onr6 x2b8uid x1fu8urw xcdnw81",onClick:this.$2,children:[k.jsx(c("PolarisUserAvatar.react"),{className:"x1gslohp xkrivgy x1e56ztr x1gryazu",isLink:!1,profilePictureUrl:f,size:56}),k.jsx("div",{className:"x1qjc9v5 x972fbf xcfux6l x1qhh985 xm0m39n x9f619 x5n08af x1lliihq xdt5ytf x2lah0s x1fhwpqd x1lr0zt7 xdj266r x11i5rnm xat24cr x1mh8g0r x6ikm8r x10wlt62 xexx8yu x4uap5 x18d9i69 xkhd6sd x1n2onr6 x2b8uid xlyipyv x11njtxf xuxw1ft",children:d("PolarisStoriesStrings").YOUR_STORY_TEXT}),k.jsx("div",{className:"x1qjc9v5 xz3rzyy xg0aa4z x13p9ybn xrtm9ri xdoiaav x14yjl9h xudhj91 x18nykt9 xww2gxu x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv x9f619 x78zum5 xlr8s2x xdt5ytf x2lah0s xk390pu xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x10l6tqk x1er3m0b x11njtxf",children:k.jsx(c("IGDSCircleAddPanoFilledIcon.react"),{alt:h._("__JHASH__Dq6RyIKc3_p__JHASH__"),color:"ig-primary-button",size:16})}),k.jsx(c("PolarisStoryCreationFileForm.react"),{entryPoint:"your_story_placeholder",ref:function(b){return a.$1=b}})]})};return b}(k.Component);function a(a,b){var c=d("polarisUserSelectors").getUserById(a,b.viewerId);return{profilePictureUrl:c.profilePictureUrl,reel:d("polarisStorySelectors").getReel(a,b.viewerId)}}function b(a){return{onOpenReel:function(b,c,e){a(d("PolarisStoryActions").openReel(b,c,e))}}}f=d("PolarisReactRedux.react").connect(a,b)(e);g["default"]=f}),98);
__d("ReelTrayImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5526");b=d("FalcoLoggerInternal").create("reel_tray_impression",a);e=b;g["default"]=e}),98);
__d("PolarisStoryTray.react",["cx","PolarisFeedStoryTrayWrapper.react","PolarisIGVirtualList.react","PolarisLiveLogger","PolarisLiveStoryTrayItem.react","PolarisOwnStoryTrayItem.react","PolarisPanavisionQEHelpers","PolarisStoriesLoggingUtils","PolarisStoryState","PolarisStoryTrayItem.react","PolarisUA","PolarisVirtualHSnapScroll.react","ReelTrayImpressionFalcoEvent","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.createRef,l=4,m=5,n=80,o=78,p=80,q=10;a=-1;var r=8,s=r+m,t=500,u=4,v=16,w=2,x={leftVisibleItem:a,rightVisibleItem:r};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state=function(){var a={};for(var b=d("PolarisStoryState").PolarisStoryTrayVariants.members(),c=Array.isArray(b),e=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;a[f]=babelHelpers["extends"]({},x)}return a}(),e.didLogComponentLoad=!1,e.didLogStoryTrayLoad=!1,e.scrollRef=k(),e.$1=function(a,b){e.props.onLoadReel(c("nullthrows")(e.props.reels),a,b)},e.$2=function(a,b){var f=e.props.reels?e.props.reels.get(b-1):null;c("ReelTrayImpressionFalcoEvent").log(function(){return{a_pk:a,has_my_reel:c("nullthrows")(e.props.hasOwnReel)?"1":"0",is_new_reel:e.props.isFullySeen(f==null?void 0:f.id)?"0":"1",new_reel_count:c("nullthrows")(e.props.newReelCount).toString(),pigeon_reserved_keyword_module:"reel_feed_timeline",reel_type:d("PolarisStoriesLoggingUtils").getTypeForLogging(f==null?void 0:f.type),tray_position:b.toString(),tray_session_id:e.props.traySession,viewed_reel_count:c("nullthrows")(e.props.seenReelCount).toString()}})},e.$3=function(a,b){c("ReelTrayImpressionFalcoEvent").log(function(){return{a_pk:a.broadcast_owner,has_my_reel:c("nullthrows")(e.props.hasOwnReel)?"1":"0",is_new_reel:"0",new_reel_count:c("nullthrows")(e.props.newReelCount).toString(),pigeon_reserved_keyword_module:"reel_feed_timeline",reel_type:d("PolarisLiveLogger").getReelTypeForLogging(a),tray_position:b.toString(),tray_session_id:e.props.traySession,viewed_reel_count:c("nullthrows")(e.props.seenReelCount).toString()}})},e.$4=function(a){var b,f=a.index;a=a.isVisible;var g=e.$5()?1:0,h={isVisible:a,onClick:e.$1,onScrollEnter:e.$2,trayPosition:f};b=(b=e.props.items)==null?void 0:b[f-g];var i,k;f<g?i=j.jsx(c("PolarisOwnStoryTrayItem.react"),babelHelpers["extends"]({hasOwnReel:e.props.hasOwnReel,viewerId:e.props.viewerId},h)):b&&(b.type==="live"?i=j.jsx(c("PolarisLiveStoryTrayItem.react"),{broadcast:b.live,isVisible:a,onScrollEnter:e.$3,trayPosition:f}):b.type==="reel"&&(k=b.reel,i=j.jsx(c("PolarisStoryTrayItem.react"),babelHelpers["extends"]({reel:k},h))));return j.jsx("div",{className:"_aauk"+(d("PolarisUA").isDesktop()?" _aegn":""),"data-testid":void 0,children:i},k?k.id:f)},e.$7=function(a){var b=a.endPct;a=a.startPct;var c=e.state[e.props.currentFeed],d=c.leftVisibleItem;c=c.rightVisibleItem;var f=Math.floor(a),g=Math.ceil(b);(d!==f||c!==g)&&e.setState(function(a){var b;return babelHelpers["extends"]({},a,(b={},b[e.props.currentFeed]=babelHelpers["extends"]({},a[e.props.currentFeed],{leftVisibleItem:f,rightVisibleItem:g}),b))})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentDidUpdate=function(a){if(this.props.currentFeed!==a.currentFeed){var b;a=this.state[this.props.currentFeed].leftVisibleItem;(b=this.scrollRef.current)==null?void 0:b.resetToIndex(a+1)}};e.$5=function(){if(d("PolarisUA").isMobile()&&this.props.currentFeed===d("PolarisStoryState").PolarisStoryTrayVariants.HOME)return!0;return this.props.hideOwnStory===!0&&d("PolarisUA").isDesktop()?!1:!!this.props.hasOwnReel};e.$6=function(){var a=this.props.items,b=this.$5()?1:0;a=a!=null?a.length:0;return b+a};e.$8=function(a,b){var c=this,d=this.$6();return Array.from(Array(d),function(d,e){return c.$4({index:e,isVisible:e>=a&&e<=b})})};e.render=function(){var a=this.props.currentFeed;a=this.state[a];var b=a.leftVisibleItem;a=a.rightVisibleItem;var e=this.$6(),f=d("PolarisUA").isDesktop(),g=d("PolarisPanavisionQEHelpers").hasPolarisFeedRevamp();f=f||g;var h=d("PolarisUA").isDesktop()?j.jsx(c("PolarisVirtualHSnapScroll.react"),{animationDuration:t,autoScrollOnFocus:!1,disableScrollSnap:!0,gutterWidth:f?w:v,initialNextPagerVisibleGuess:e>r,initialVisibleItemsGuess:s,itemWidth:f?p:o,onVisibilityChange:this.$7,overscan:m,pagerVariant:"stories_v2",pageSize:u,scrollRef:this.scrollRef,children:this.$8(b,a)}):j.jsx(c("PolarisIGVirtualList.react"),{className:"_aaum",containerSize:"auto",direction:"horizontal",estimatedItemSize:n,initialRenderCount:q,itemCount:e,overscanCount:l,pageletName:"story_tray_inner",renderer:this.$4});return d("PolarisUA").isDesktop()&&e===0?null:j.jsx(c("PolarisFeedStoryTrayWrapper.react"),{children:function(a){return j.jsx("div",{className:"_aauo",ref:a,role:"menu",children:h})}})};return b}(j.Component);g["default"]=b}),98);
__d("PolarisStoryTrayContainer.react",["PolarisConfig","PolarisReactRedux.react","PolarisStoryAPIActions","PolarisStoryActions","PolarisStoryState","PolarisStoryTray.react","PolarisUA","cr:8735","nullthrows","polarisStorySelectors","react","usePolarisDisplayProperties","usePolarisGetQuerySetup","usePolarisPreloadedGetQuery"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=a.hideOwnStory;a=a.storyTrayPolarisPreloadedQuery;a=c("usePolarisPreloadedGetQuery")(a);c("usePolarisGetQuerySetup")(a,d("PolarisStoryAPIActions").onStoryTrayResponse);var f=(a=d("PolarisReactRedux.react")).useSelector(function(a){return d("polarisStorySelectors").getSeenCountInStoryTray(a)}),g=a.useDispatch(),h=a.useSelector(d("polarisStorySelectors").getStoriesContent),j=h.feedTray,k=h.traySession;h=a.useSelector(function(a){return{currentFeed:a.stories.currentFeed,hasOwnReel:d("polarisStorySelectors").currentFeedIsHome(a)&&d("polarisStorySelectors").userHasReel(a,c("nullthrows")(a.users.viewerId)),isFullySeen:d("polarisStorySelectors").getIsFullySeen(a),items:d("PolarisUA").isMobile()||a.stories.currentFeed===d("PolarisStoryState").PolarisStoryTrayVariants.FOLLOWING?d("polarisStorySelectors").getFeedStoryItemsWithoutOwnAndBroadcasts(a):d("polarisStorySelectors").getFeedStoryItemsWithoutOwn(a),loadingId:a.stories.trayLoadingId,newReelCount:j&&j.count()-c("nullthrows")(f),reels:d("polarisStorySelectors").getFeedStoryTrayWithoutOwn(a),seenReelCount:f,storyPrefetchFinished:a.feed.storyPrefetchComplete,traySession:k}},a.shallowEqual);a=c("usePolarisDisplayProperties")();a=a.viewportHeight;var l=b("cr:8735")(),m=function(a,b,c){l!=null&&b!=null?l(b,"reel_feed_timeline"):g(d("PolarisStoryActions").openReelsMedia(a,"reel_feed_timeline",b,c))},n=function(a,b){g(d("PolarisStoryActions").loadReelsMediaForTray(b,a,{batchSize:15,fetchDistance:5}))};return i.jsx(c("PolarisStoryTray.react"),babelHelpers["extends"]({},h,{hideOwnStory:e,onLoadReel:m,onStoryItemScrollEnter:n,viewerId:d("PolarisConfig").getViewerIdOrZero(),viewportHeight:a}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisQPCampaigns",[],(function(a,b,c,d,e,f){"use strict";a={fbconnect:"1939973836325880",gdprDialog:"385107635302749",gdprFullscreen:"361346177689723",gdprMegaphoneDis:"1432819323512524",gdprMegaphoneNondis:"1126242244191536"};b=a;f["default"]=b}),66);
__d("PolarisNotificationsScreenDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisNotificationsScreen.react").__setRef("PolarisNotificationsScreenDeferred.react"));g["default"]=a}),98);
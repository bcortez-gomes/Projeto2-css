;/*FB_PKG_DELIM*/

__d("PolarisMediaShareButton_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaShareButton_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_info_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},a],storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisIsMediaShareable_media"}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisPhotoOverlayLikes_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPhotoOverlayLikes_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{alias:null,args:null,kind:"ScalarField",name:"has_liked",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisLikeMedia_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPhotoOverlay_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPhotoOverlay_media",selections:[{alias:null,args:null,concreteType:"XDTUserTagInfosDict",kind:"LinkedField",name:"usertags",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserTagInfoDict",kind:"LinkedField",name:"in",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"PolarisPhotoUserTags_tags"}],storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPhotoUserTags_tags.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"PolarisPhotoUserTags_tags",selections:[{alias:null,args:null,kind:"ScalarField",name:"position",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"XDTUserTagInfoDict",abstractKey:null};e.exports=a}),null);
__d("PolarisImmersiveViewerMediaOverlay_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisImmersiveViewerMediaOverlay_media",selections:[{args:null,kind:"FragmentSpread",name:"PolarisImmersiveViewerMediaHeader_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisImmersiveMediaViewerCommentsButton_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisImmersiveMediaViewerCommentsButton_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisImmersiveMediaViewerMoreButton_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisImmersiveMediaViewerMoreButton_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisImmersiveMediaViewerUserFeedback_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisImmersiveMediaViewerUserFeedback_media",selections:[{args:null,kind:"FragmentSpread",name:"PolarisClipsDesktopLikeButtonFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisMediaShareButton_media"},{args:null,kind:"FragmentSpread",name:"PolarisImmersiveMediaViewerCommentsButton_media"},{args:null,kind:"FragmentSpread",name:"PolarisImmersiveMediaViewerMoreButton_media"},{args:null,kind:"FragmentSpread",name:"PolarisMediaSaveButton_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisImmersiveMediaViewerCommentInput.react",["PolarisLexicalCommentInput.react","PolarisLexicalCommentInputWrapper.react","PolarisPostDetailsSectionProvider.react","emptyFunction","react","usePolarisLexicalCommentInputState","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isSidecar,e=a.isVideo,f=a.ownerId,g=a.postId,h=a.viewerId;a=a.viewerProfilePicture;var j=d("PolarisPostDetailsSectionProvider.react").usePolarisPostDetailsSectionProvider(),k=c("usePolarisSelector")(function(a){return(a=a.pendingComments[g])!=null?a:{}}),l=k.repliedToCommentAuthorId,m=k.repliedToCommentId,n=k.repliedToCommentParentId;k=k.repliedToUsername;return i.jsx(d("usePolarisLexicalCommentInputState").PolarisLexicalCommentInputStateProvider,{value:{analyticsContext:j,clearCurrentReply:c("emptyFunction"),isSidecar:b,isVideo:e,ownerId:f,postId:g,repliedToCommentAuthorId:l,repliedToCommentId:m,repliedToCommentParentId:n,repliedToUsername:k,viewerId:h,viewerProfilePicture:a},children:i.jsx(c("PolarisLexicalCommentInputWrapper.react"),{children:i.jsx(c("PolarisLexicalCommentInput.react"),{initialCommentText:"",initialFocus:!1})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisMediaShareButton.react",["fbt","CometPressable.react","CometRelay","DirectReshareButtonTapFalcoEvent","FBLogger","IGDSDirectPanoOutlineIcon.react","IGDSecureShareSheetDialogPlaceholder.react","JSResourceForInteraction","PolarisConfig","PolarisContainerModuleUtils","PolarisLoggerUtils","PolarisMediaShareButton_media.graphql","PolarisNavChain","gkx","qex","react","useIGDSLazyDialog","usePolarisAnalyticsContext","usePolarisIsMediaShareable","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useCallback,m=c("JSResourceForInteraction")("IGDSecureShareSheetDialog.react").__setRef("PolarisMediaShareButton.react"),n={button:{":hover_opacity":"x1mywscw",$$css:!0}};function a(a){var e,f;a=a.media;var g=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisMediaShareButton_media.graphql"),a);a=c("usePolarisIsMediaShareable")(g);e=(g==null?void 0:(e=g.user)==null?void 0:e.is_private)!==!0&&g.can_viewer_reshare===!0;f=(g==null?void 0:(f=g.user)==null?void 0:f.is_private)===!0&&c("qex")._("398");f===!0&&(e=a);f=c("useIGDSLazyDialog")(m,function(a){return k.jsx(c("IGDSecureShareSheetDialogPlaceholder.react"),{onClose:a})});var j=f[0];a=f[1];var o=c("usePolarisAnalyticsContext")();f=l(function(){if(d("PolarisConfig").isLoggedIn()){var a,b=g==null?void 0:g.pk,e=g==null?void 0:(a=g.user)==null?void 0:a.pk;if(b==null||e==null){c("FBLogger")("ig_web").mustfix("Unable to open share sheet - empty post id or user id");return}var f=c("uuidv4")();a=(a=c("gkx")("25289")&&c("qex")._("340"))!=null?a:!1;a&&c("DirectReshareButtonTapFalcoEvent").log(function(){var a;return{a_pk:e,canonical_nav_chain:(a=c("PolarisNavChain").getInstance())==null?void 0:a.getNavChainForSend(),inventory_source:g.inventory_source,m_pk:d("PolarisLoggerUtils").getFormattedMediaID(b,e),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(o),ranking_info_token:g.logging_info_token,share_sheet_session_id:f}});a={id:b,loggingInfoToken:g.logging_info_token,mediaOverlayInfo:null,owner:{id:e},productType:g==null?void 0:g.product_type};j({flowInstanceId:f,post:a})}},[g,j,o]);return e===!1?null:k.jsx(c("CometPressable.react"),{hideFocusOverlay:!0,hideHoverOverlay:!0,onPress:f,overlayPressedStyle:null,ref:a,xstyle:n.button,children:k.jsx(c("IGDSDirectPanoOutlineIcon.react"),{alt:h._("__JHASH__dCpyyTpkyrM__JHASH__"),size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPhotoUserTags.react",["CometRelay","IGDSButton.react","IGDSTooltip.react","PolarisPhotoUserTags_tags.graphql","XPolarisProfileControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=a.tags,f=a.visible;e=(a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPhotoUserTags_tags.graphql"),e))!=null?a:[];return j.jsx(j.Fragment,{children:e.map(function(a,b){var d,e;d=(d=a.user)==null?void 0:d.username;return d==null?null:j.jsx("div",{className:"x10l6tqk",style:{left:((e=(e=a.position)==null?void 0:e[0])!=null?e:0)*100+"%",top:((a=(e=a.position)==null?void 0:e[1])!=null?a:0)*100+"%"},children:j.jsx(c("IGDSTooltip.react"),{align:"middle",color:"black",isVisible:f,position:"below",tooltip:j.jsx(c("IGDSButton.react"),{href:c("XPolarisProfileControllerRouteBuilder").buildURL({username:d}),label:d,variant:"white_link"}),useFadeTransition:!0,children:j.jsx("div",{})})},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPhotoOverlay.react",["CometRelay","PolarisDoubleTappable","PolarisLikeAnimation.react","PolarisMediaTaggedUserIndicator.react","PolarisPhotoOverlayLikes_media.graphql","PolarisPhotoOverlay_media.graphql","PolarisPhotoUserTags.react","PolarisPostDetailsSectionProvider.react","react","useIntersectionObserver","usePolarisLikeMedia"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useState,n={overlayRoot:{height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",left:null,right:null,top:"x13vifvy",width:"xh8yej3",$$css:!0},taggedUserIndicator:{position:"x10l6tqk",start:"x16q8cke",left:null,right:null,top:"xomnu4r",$$css:!0}};function a(a){var e=a.containerRef,f=a.mediaItemQueryRef;a=a.parentMediaItemQueryRef;f=(f=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPhotoOverlay_media.graphql"),f).usertags)==null?void 0:f["in"];var g=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisPhotoOverlayLikes_media.graphql"),a);a=m(!1);var j=a[0],o=a[1];a=l(function(){o(!j)},[j]);var p=l(function(){o(!1)},[]),q=d("PolarisPostDetailsSectionProvider.react").usePolarisPostDetailsSectionProvider(),r=m(0),s=r[0],t=r[1],u=c("usePolarisLikeMedia")({analyticsContext:q,mediaFragmentKey:g,sourceOfLike:"double_tap_media"});r=function(){g.pk!=null&&g.has_liked!==!0&&u(g.pk,!0),t(s+1)};q=c("useIntersectionObserver")(p,{root:l(function(){var a;return(a=e==null?void 0:e.current)!=null?a:null},[e]),threshold:1});return k.jsxs(d("PolarisDoubleTappable").DoubleTappable,{onDoubleClick:r,onSingleClick:a,role:"button",xstyle:n.overlayRoot,children:[f!=null&&k.jsx(c("PolarisPhotoUserTags.react"),{tags:f,visible:j}),f!=null&&f.length>0&&k.jsx("div",{className:"x10l6tqk x16q8cke xomnu4r",ref:q,children:k.jsx(c("PolarisMediaTaggedUserIndicator.react"),{onPress:a})}),k.jsx(c("PolarisLikeAnimation.react"),{likeEventCount:s},s)]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisMediaShowSavedToastHandler",["fbt","IGDSButton.react","PolarisSavedPostsTypes","XPolarisSavedCollectionsControllerRouteBuilder","react","useIGDSToaster","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback;function a(){var a=c("usePolarisViewer")(),b=c("useIGDSToaster")(),e=b.add;return k(function(){var b;b=c("XPolarisSavedCollectionsControllerRouteBuilder").buildUri({collection_id:d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION,slug:d("PolarisSavedPostsTypes").ALL_POSTS_SAVED_COLLECTION_PATH,username:(b=a==null?void 0:a.username)!=null?b:""});e({actionComponent:j.jsx(c("IGDSButton.react"),{display:"block",href:b.toString(),label:h._("__JHASH__vD_V0nwq90r__JHASH__"),variant:"primary_link"}),message:h._("__JHASH__Ohp7zsmQCxJ__JHASH__"),target:"bottom"},{duration:3e3})},[e,a==null?void 0:a.username])}g["default"]=a}),98);
__d("PolarisImmersiveViewerMediaOverlay.react",["CometRelay","PolarisImmersiveViewerMediaHeader.react","PolarisImmersiveViewerMediaOverlay_media.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.queryReference;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisImmersiveViewerMediaOverlay_media.graphql"),a);return j.jsx("div",{className:"x19st51t x1ey2m1c x78zum5 x3ieub6 x6dqz5g x47corl x10l6tqk x17qophe xh8yej3",onWheel:function(a){return a.stopPropagation()},children:j.jsx("div",{className:"xqui205 xqmxbcd x1hq5gj4 xmupa6y x1rife3k x1t2a60a x123j3cw x67bb7w x65xoit",children:j.jsx(c("PolarisImmersiveViewerMediaHeader.react"),{isOverMedia:!0,queryReference:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisImmersiveViewerCommentInputFocusEffect",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a,b){var c=j(!1),d=c[0],e=c[1];i(function(){d===!0&&a&&(b(),e(!1))},[b,a,d]);return e}g["default"]=a}),98);
__d("PolarisImmersiveMediaViewerCommentsButton.react",["fbt","CometPressable.react","CometRelay","IGDSBox.react","IGDSCommentPanoOutlineIcon.react","IGDSText.react","PolarisImmersiveMediaViewerCommentsButton_media.graphql","PolarisImmersiveMediaViewerLayoutContext.react","PolarisImmersiveViewerCommentInputRefContext.react","react","usePolarisImmersiveViewerCommentInputFocusEffect"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useEffect,n=e.useRef,o={commentsButton:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",":hover_opacity":"x1mywscw",$$css:!0}};function a(a){a=a.media;a=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisImmersiveMediaViewerCommentsButton_media.graphql"),a);var e=d("PolarisImmersiveMediaViewerLayoutContext.react").usePolarisImmersiveMediaViewerLayout(),f=d("PolarisImmersiveViewerCommentInputRefContext.react").usePolarisImmersiveViewerCommentInputRef(),g=n(null);m(function(){return function(){if(g.current!=null){g.current=null;return window.clearTimeout(g.current)}}});var j=l(function(){(f==null?void 0:f.current)!=null&&(f==null?void 0:f.current.focus())},[f]),p=d("PolarisImmersiveMediaViewerLayoutContext.react").usePolarisIsImmersiveViewerFullScreen()===!1,q=c("usePolarisImmersiveViewerCommentInputFocusEffect")(p,j),r=l(function(){p===!1&&(e==null?void 0:e.dispatch({type:"toggleSidePannel"}),q(!0)),j(),g.current==null&&(e==null?void 0:e.dispatch({hasCommentInputAnimation:!0,type:"commentInputAnimation"}),g.current=window.setTimeout(function(){return e==null?void 0:e.dispatch({hasCommentInputAnimation:!1,type:"commentInputAnimation"})},3e3))},[j,p,e,q]);return k.jsxs(c("CometPressable.react"),{hideFocusOverlay:!0,hideHoverOverlay:!0,onPress:r,overlayPressedStyle:null,xstyle:o.commentsButton,children:[k.jsx(c("IGDSCommentPanoOutlineIcon.react"),{alt:h._("__JHASH__j7fL_QYzq4H__JHASH__"),size:24}),k.jsx(c("IGDSBox.react"),{marginTop:2,children:k.jsx(c("IGDSText.react").Body2,{color:"primaryText",children:a.comment_count})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisImmersiveMediaViewerMoreButton.react",["fbt","CometPressable.react","CometRelay","IGDSEntryPointPopoverTrigger.react","IGDSMoreHorizontalPanoOutlineIcon.react","PolarisBaseOptionsMenuFallback.react","PolarisImmersiveMediaViewerMoreButton_media.graphql","PolarisMediaOptionsMenu.entrypoint","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={button:{flexDirection:"xdt5ytf",":hover_opacity":"x1mywscw",$$css:!0}};function a(a){a=a.media;a=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisImmersiveMediaViewerMoreButton_media.graphql"),a);return k.jsx("div",{onWheel:function(a){return a.stopPropagation()},children:k.jsx(c("IGDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{routeParams:{mediaPK:a.pk},routeProps:{}},fallback:k.jsx(c("PolarisBaseOptionsMenuFallback.react"),{}),otherProps:{},popoverEntryPoint:c("PolarisMediaOptionsMenu.entrypoint"),position:"above",preloadTrigger:"button",children:function(a,b,d){return k.jsx(c("CometPressable.react"),{hideFocusOverlay:!0,hideHoverOverlay:!0,onPress:function(){return b()},overlayPressedStyle:null,ref:a,xstyle:l.button,children:k.jsx(c("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:h._("__JHASH__vsPR1PMxOLr__JHASH__"),size:24})})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisImmersiveMediaViewerUserFeedback.react",["CometPlaceholder.react","CometRelay","IGDSBox.react","PolarisClipsDesktopLikeButton.react","PolarisImmersiveMediaViewerCommentsButton.react","PolarisImmersiveMediaViewerMoreButton.react","PolarisImmersiveMediaViewerUserFeedback_media.graphql","PolarisMediaSaveButton.react","PolarisMediaShareButton.react","react","usePolarisMediaShowSavedToastHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.media;var e=c("usePolarisMediaShowSavedToastHandler")();a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisImmersiveMediaViewerUserFeedback_media.graphql"),a);return j.jsxs("div",{className:"x1y0lptx x78zum5 xcdomlo xdt5ytf x10l6tqk x100vrsf",children:[j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("PolarisClipsDesktopLikeButton.react"),{fragmentKey:a,iconColor:"ig-primary-icon",shadow:!1})}),j.jsx(c("IGDSBox.react"),{marginBottom:5,children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("PolarisImmersiveMediaViewerCommentsButton.react"),{media:a})})}),j.jsx(c("IGDSBox.react"),{alignItems:"center",marginBottom:7,children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("PolarisMediaShareButton.react"),{media:a})})}),j.jsx(c("IGDSBox.react"),{alignItems:"center",marginBottom:7,children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("PolarisMediaSaveButton.react"),{mediaFragmentKey:a,onShowToast:e})})}),j.jsx(c("IGDSBox.react"),{alignItems:"center",marginBottom:7,children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("PolarisImmersiveMediaViewerMoreButton.react"),{media:a})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);